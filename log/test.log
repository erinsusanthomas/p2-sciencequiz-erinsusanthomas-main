  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "street_1" varchar NOT NULL, "street_2" varchar, "city" varchar, "state" varchar, "zip" varchar NOT NULL, "short_name" varchar NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "student_teams"[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "student_teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "team_id" integer NOT NULL, "start_date" date NOT NULL, "end_date" date, "position" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_student_id" ON "student_teams" ("student_id")[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_team_id" ON "student_teams" ("team_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "students"[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "students" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar NOT NULL, "last_name" varchar NOT NULL, "grade" integer NOT NULL, "organization_id" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE  INDEX "index_students_on_organization_id" ON "students" ("organization_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "teams"[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "organization_id" integer NOT NULL, "division" varchar NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE  INDEX "index_teams_on_organization_id" ON "teams" ("organization_id")[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210222163246)[0m
  [1m[35m (13.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210220104945),
(20210222161946),
(20210222162516);

[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-03-10 15:06:59.851273"], ["updated_at", "2021-03-10 15:06:59.851273"]]
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:07:22.951348"], ["updated_at", "2021-03-10 15:07:22.951348"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.070527"], ["updated_at", "2021-03-10 15:07:23.070527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.077084"], ["updated_at", "2021-03-10 15:07:23.077084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.079282"], ["updated_at", "2021-03-10 15:07:23.079282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:07:23.081311"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "CA". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.174673"], ["updated_at", "2021-03-10 15:07:23.174673"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.179288"], ["updated_at", "2021-03-10 15:07:23.179288"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.184040"], ["updated_at", "2021-03-10 15:07:23.184040"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (39.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:07:23.251361"], ["updated_at", "2021-03-10 15:07:23.251361"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.558720"], ["updated_at", "2021-03-10 15:07:23.558720"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.568472"], ["updated_at", "2021-03-10 15:07:23.568472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.571940"], ["updated_at", "2021-03-10 15:07:23.571940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:07:23.575387"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.590578"], ["updated_at", "2021-03-10 15:07:23.590578"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.595711"], ["updated_at", "2021-03-10 15:07:23.595711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.606002"], ["updated_at", "2021-03-10 15:07:23.606002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (23.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.641698"], ["updated_at", "2021-03-10 15:07:23.641698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.646352"], ["updated_at", "2021-03-10 15:07:23.646352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.649535"], ["updated_at", "2021-03-10 15:07:23.649535"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.798661"], ["updated_at", "2021-03-10 15:17:44.798661"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.804363"], ["updated_at", "2021-03-10 15:17:44.804363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.806615"], ["updated_at", "2021-03-10 15:17:44.806615"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.847384"], ["updated_at", "2021-03-10 15:17:44.847384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.852109"], ["updated_at", "2021-03-10 15:17:44.852109"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.854521"], ["updated_at", "2021-03-10 15:17:44.854521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.877160"], ["updated_at", "2021-03-10 15:17:44.877160"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.882465"], ["updated_at", "2021-03-10 15:17:44.882465"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.888756"], ["updated_at", "2021-03-10 15:17:44.888756"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:45.065271"], ["updated_at", "2021-03-10 15:17:45.065271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:45.071306"], ["updated_at", "2021-03-10 15:17:45.071306"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:45.074515"], ["updated_at", "2021-03-10 15:17:45.074515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:17:45.077278"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:17:45.105403"], ["updated_at", "2021-03-10 15:17:45.105403"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:45.122727"], ["updated_at", "2021-03-10 15:17:45.122727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:45.127710"], ["updated_at", "2021-03-10 15:17:45.127710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:45.130203"], ["updated_at", "2021-03-10 15:17:45.130203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:17:45.133255"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:17:45.233422"], ["updated_at", "2021-03-10 15:17:45.233422"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.162332"], ["updated_at", "2021-03-10 15:22:04.162332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.167748"], ["updated_at", "2021-03-10 15:22:04.167748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.169664"], ["updated_at", "2021-03-10 15:22:04.169664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:22:04.197033"], ["updated_at", "2021-03-10 15:22:04.197033"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.214227"], ["updated_at", "2021-03-10 15:22:04.214227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.250726"], ["updated_at", "2021-03-10 15:22:04.250726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.252645"], ["updated_at", "2021-03-10 15:22:04.252645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.269517"], ["updated_at", "2021-03-10 15:22:04.269517"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.272695"], ["updated_at", "2021-03-10 15:22:04.272695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.276328"], ["updated_at", "2021-03-10 15:22:04.276328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.288304"], ["updated_at", "2021-03-10 15:22:04.288304"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.299475"], ["updated_at", "2021-03-10 15:22:04.299475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.301831"], ["updated_at", "2021-03-10 15:22:04.301831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:22:04.303614"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.312327"], ["updated_at", "2021-03-10 15:22:04.312327"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.316957"], ["updated_at", "2021-03-10 15:22:04.316957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.320844"], ["updated_at", "2021-03-10 15:22:04.320844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.5ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:22:04.326036"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:22:04.564320"], ["updated_at", "2021-03-10 15:22:04.564320"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (8.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.784363"], ["updated_at", "2021-03-10 15:36:18.784363"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.798175"], ["updated_at", "2021-03-10 15:36:18.798175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.805689"], ["updated_at", "2021-03-10 15:36:18.805689"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:36:18.811822"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:36:18.852899"], ["updated_at", "2021-03-10 15:36:18.852899"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (5.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.868000"], ["updated_at", "2021-03-10 15:36:18.868000"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.881683"], ["updated_at", "2021-03-10 15:36:18.881683"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.886009"], ["updated_at", "2021-03-10 15:36:18.886009"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.915899"], ["updated_at", "2021-03-10 15:36:18.915899"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.924229"], ["updated_at", "2021-03-10 15:36:18.924229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.928047"], ["updated_at", "2021-03-10 15:36:18.928047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:36:18.932002"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:19.302008"], ["updated_at", "2021-03-10 15:36:19.302008"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:19.309863"], ["updated_at", "2021-03-10 15:36:19.309863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:19.313617"], ["updated_at", "2021-03-10 15:36:19.313617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:19.353166"], ["updated_at", "2021-03-10 15:36:19.353166"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:19.367965"], ["updated_at", "2021-03-10 15:36:19.367965"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:19.398275"], ["updated_at", "2021-03-10 15:36:19.398275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:36:19.429709"], ["updated_at", "2021-03-10 15:36:19.429709"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.519903"], ["updated_at", "2021-03-10 16:02:37.519903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.524195"], ["updated_at", "2021-03-10 16:02:37.524195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.526273"], ["updated_at", "2021-03-10 16:02:37.526273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.528524"], ["updated_at", "2021-03-10 16:02:37.528524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.532486"], ["updated_at", "2021-03-10 16:02:37.532486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.535020"], ["updated_at", "2021-03-10 16:02:37.535020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:02:37.536373"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.548099"], ["updated_at", "2021-03-10 16:02:37.548099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.553394"], ["updated_at", "2021-03-10 16:02:37.553394"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.555727"], ["updated_at", "2021-03-10 16:02:37.555727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.557593"], ["updated_at", "2021-03-10 16:02:37.557593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.559269"], ["updated_at", "2021-03-10 16:02:37.559269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.560662"], ["updated_at", "2021-03-10 16:02:37.560662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.582916"], ["updated_at", "2021-03-10 16:02:37.582916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.586645"], ["updated_at", "2021-03-10 16:02:37.586645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.589287"], ["updated_at", "2021-03-10 16:02:37.589287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.591070"], ["updated_at", "2021-03-10 16:02:37.591070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.592680"], ["updated_at", "2021-03-10 16:02:37.592680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.594078"], ["updated_at", "2021-03-10 16:02:37.594078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.617601"], ["updated_at", "2021-03-10 16:02:37.617601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.622712"], ["updated_at", "2021-03-10 16:02:37.622712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.629143"], ["updated_at", "2021-03-10 16:02:37.629143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.633333"], ["updated_at", "2021-03-10 16:02:37.633333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.636211"], ["updated_at", "2021-03-10 16:02:37.636211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.638544"], ["updated_at", "2021-03-10 16:02:37.638544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:02:37.640658"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.657611"], ["updated_at", "2021-03-10 16:02:37.657611"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.661359"], ["updated_at", "2021-03-10 16:02:37.661359"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.666341"], ["updated_at", "2021-03-10 16:02:37.666341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.669256"], ["updated_at", "2021-03-10 16:02:37.669256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.671800"], ["updated_at", "2021-03-10 16:02:37.671800"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.674487"], ["updated_at", "2021-03-10 16:02:37.674487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.802060"], ["updated_at", "2021-03-10 16:02:37.802060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.820419"], ["updated_at", "2021-03-10 16:02:37.820419"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.827053"], ["updated_at", "2021-03-10 16:02:37.827053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.831320"], ["updated_at", "2021-03-10 16:02:37.831320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.838063"], ["updated_at", "2021-03-10 16:02:37.838063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.841344"], ["updated_at", "2021-03-10 16:02:37.841344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (42.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (17.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.906301"], ["updated_at", "2021-03-10 16:02:37.906301"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.928781"], ["updated_at", "2021-03-10 16:02:37.928781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.933910"], ["updated_at", "2021-03-10 16:02:37.933910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.937557"], ["updated_at", "2021-03-10 16:02:37.937557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.941207"], ["updated_at", "2021-03-10 16:02:37.941207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.944447"], ["updated_at", "2021-03-10 16:02:37.944447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (40.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (16.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.995230"], ["updated_at", "2021-03-10 16:02:37.995230"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:38.016966"], ["updated_at", "2021-03-10 16:02:38.016966"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:38.021154"], ["updated_at", "2021-03-10 16:02:38.021154"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:38.024802"], ["updated_at", "2021-03-10 16:02:38.024802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:38.028514"], ["updated_at", "2021-03-10 16:02:38.028514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:38.032375"], ["updated_at", "2021-03-10 16:02:38.032375"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.7ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (1.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (18.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.5ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (33.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:02:38.074984"], ["updated_at", "2021-03-10 16:02:38.074984"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.152450"], ["updated_at", "2021-03-10 16:03:27.152450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.158564"], ["updated_at", "2021-03-10 16:03:27.158564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.162547"], ["updated_at", "2021-03-10 16:03:27.162547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.164320"], ["updated_at", "2021-03-10 16:03:27.164320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.167526"], ["updated_at", "2021-03-10 16:03:27.167526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.169052"], ["updated_at", "2021-03-10 16:03:27.169052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.192449"], ["updated_at", "2021-03-10 16:03:27.192449"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.195872"], ["updated_at", "2021-03-10 16:03:27.195872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.199379"], ["updated_at", "2021-03-10 16:03:27.199379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.201531"], ["updated_at", "2021-03-10 16:03:27.201531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.203473"], ["updated_at", "2021-03-10 16:03:27.203473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.205360"], ["updated_at", "2021-03-10 16:03:27.205360"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.222257"], ["updated_at", "2021-03-10 16:03:27.222257"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.228821"], ["updated_at", "2021-03-10 16:03:27.228821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.235362"], ["updated_at", "2021-03-10 16:03:27.235362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.238463"], ["updated_at", "2021-03-10 16:03:27.238463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.241429"], ["updated_at", "2021-03-10 16:03:27.241429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.246799"], ["updated_at", "2021-03-10 16:03:27.246799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.271961"], ["updated_at", "2021-03-10 16:03:27.271961"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.277150"], ["updated_at", "2021-03-10 16:03:27.277150"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.282138"], ["updated_at", "2021-03-10 16:03:27.282138"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.284915"], ["updated_at", "2021-03-10 16:03:27.284915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.288840"], ["updated_at", "2021-03-10 16:03:27.288840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.292894"], ["updated_at", "2021-03-10 16:03:27.292894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:03:27.296173"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.316319"], ["updated_at", "2021-03-10 16:03:27.316319"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.321956"], ["updated_at", "2021-03-10 16:03:27.321956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.324573"], ["updated_at", "2021-03-10 16:03:27.324573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.326776"], ["updated_at", "2021-03-10 16:03:27.326776"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.328962"], ["updated_at", "2021-03-10 16:03:27.328962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.331132"], ["updated_at", "2021-03-10 16:03:27.331132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:03:27.333527"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.350675"], ["updated_at", "2021-03-10 16:03:27.350675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.355189"], ["updated_at", "2021-03-10 16:03:27.355189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.357786"], ["updated_at", "2021-03-10 16:03:27.357786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.359987"], ["updated_at", "2021-03-10 16:03:27.359987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.362051"], ["updated_at", "2021-03-10 16:03:27.362051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.364480"], ["updated_at", "2021-03-10 16:03:27.364480"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.381051"], ["updated_at", "2021-03-10 16:03:27.381051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.387147"], ["updated_at", "2021-03-10 16:03:27.387147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.389730"], ["updated_at", "2021-03-10 16:03:27.389730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.391932"], ["updated_at", "2021-03-10 16:03:27.391932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.393960"], ["updated_at", "2021-03-10 16:03:27.393960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.396066"], ["updated_at", "2021-03-10 16:03:27.396066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.427645"], ["updated_at", "2021-03-10 16:03:27.427645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.434382"], ["updated_at", "2021-03-10 16:03:27.434382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.437289"], ["updated_at", "2021-03-10 16:03:27.437289"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.439535"], ["updated_at", "2021-03-10 16:03:27.439535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.442255"], ["updated_at", "2021-03-10 16:03:27.442255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.444680"], ["updated_at", "2021-03-10 16:03:27.444680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:03:27.501795"], ["updated_at", "2021-03-10 16:03:27.501795"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.547705"], ["updated_at", "2021-03-10 16:03:31.547705"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.554272"], ["updated_at", "2021-03-10 16:03:31.554272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.557814"], ["updated_at", "2021-03-10 16:03:31.557814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:03:31.567751"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:03:31.586057"], ["updated_at", "2021-03-10 16:03:31.586057"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.613874"], ["updated_at", "2021-03-10 16:03:31.613874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.620555"], ["updated_at", "2021-03-10 16:03:31.620555"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.627574"], ["updated_at", "2021-03-10 16:03:31.627574"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:03:31.631459"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.643498"], ["updated_at", "2021-03-10 16:03:31.643498"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.650318"], ["updated_at", "2021-03-10 16:03:31.650318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.653297"], ["updated_at", "2021-03-10 16:03:31.653297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.668177"], ["updated_at", "2021-03-10 16:03:31.668177"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.675878"], ["updated_at", "2021-03-10 16:03:31.675878"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.682517"], ["updated_at", "2021-03-10 16:03:31.682517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.798352"], ["updated_at", "2021-03-10 16:03:31.798352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.807782"], ["updated_at", "2021-03-10 16:03:31.807782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.813823"], ["updated_at", "2021-03-10 16:03:31.813823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:03:31.835950"], ["updated_at", "2021-03-10 16:03:31.835950"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.196450"], ["updated_at", "2021-03-10 16:05:33.196450"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.208528"], ["updated_at", "2021-03-10 16:05:33.208528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.214725"], ["updated_at", "2021-03-10 16:05:33.214725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.273169"], ["updated_at", "2021-03-10 16:05:33.273169"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.276699"], ["updated_at", "2021-03-10 16:05:33.276699"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.279674"], ["updated_at", "2021-03-10 16:05:33.279674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.316804"], ["updated_at", "2021-03-10 16:05:33.316804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.331311"], ["updated_at", "2021-03-10 16:05:33.331311"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.339444"], ["updated_at", "2021-03-10 16:05:33.339444"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.344329"], ["updated_at", "2021-03-10 16:05:33.344329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.349209"], ["updated_at", "2021-03-10 16:05:33.349209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.352596"], ["updated_at", "2021-03-10 16:05:33.352596"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (30.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.399382"], ["updated_at", "2021-03-10 16:05:33.399382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.411268"], ["updated_at", "2021-03-10 16:05:33.411268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.417876"], ["updated_at", "2021-03-10 16:05:33.417876"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.422199"], ["updated_at", "2021-03-10 16:05:33.422199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.427935"], ["updated_at", "2021-03-10 16:05:33.427935"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.444333"], ["updated_at", "2021-03-10 16:05:33.444333"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (22.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.524856"], ["updated_at", "2021-03-10 16:05:33.524856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.533465"], ["updated_at", "2021-03-10 16:05:33.533465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.537656"], ["updated_at", "2021-03-10 16:05:33.537656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.541206"], ["updated_at", "2021-03-10 16:05:33.541206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.543660"], ["updated_at", "2021-03-10 16:05:33.543660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.550187"], ["updated_at", "2021-03-10 16:05:33.550187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.632847"], ["updated_at", "2021-03-10 16:05:33.632847"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.639785"], ["updated_at", "2021-03-10 16:05:33.639785"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.648028"], ["updated_at", "2021-03-10 16:05:33.648028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.651662"], ["updated_at", "2021-03-10 16:05:33.651662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.655309"], ["updated_at", "2021-03-10 16:05:33.655309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.658870"], ["updated_at", "2021-03-10 16:05:33.658870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.3ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:05:33.661949"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.682500"], ["updated_at", "2021-03-10 16:05:33.682500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.688612"], ["updated_at", "2021-03-10 16:05:33.688612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.693403"], ["updated_at", "2021-03-10 16:05:33.693403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.697342"], ["updated_at", "2021-03-10 16:05:33.697342"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.701132"], ["updated_at", "2021-03-10 16:05:33.701132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.705920"], ["updated_at", "2021-03-10 16:05:33.705920"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.740078"], ["updated_at", "2021-03-10 16:05:33.740078"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.746305"], ["updated_at", "2021-03-10 16:05:33.746305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.751407"], ["updated_at", "2021-03-10 16:05:33.751407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.754998"], ["updated_at", "2021-03-10 16:05:33.754998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.758317"], ["updated_at", "2021-03-10 16:05:33.758317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.760722"], ["updated_at", "2021-03-10 16:05:33.760722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:05:33.765875"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.812881"], ["updated_at", "2021-03-10 16:05:33.812881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.820874"], ["updated_at", "2021-03-10 16:05:33.820874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.824420"], ["updated_at", "2021-03-10 16:05:33.824420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.8ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.828658"], ["updated_at", "2021-03-10 16:05:33.828658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.832689"], ["updated_at", "2021-03-10 16:05:33.832689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.834642"], ["updated_at", "2021-03-10 16:05:33.834642"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (35.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:05:33.881772"], ["updated_at", "2021-03-10 16:05:33.881772"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (1.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:05:33.911508"], ["updated_at", "2021-03-10 16:05:33.911508"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.950558"], ["updated_at", "2021-03-10 16:05:33.950558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.959073"], ["updated_at", "2021-03-10 16:05:33.959073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.967140"], ["updated_at", "2021-03-10 16:05:33.967140"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:05:33.988399"], ["updated_at", "2021-03-10 16:05:33.988399"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.013049"], ["updated_at", "2021-03-10 16:05:34.013049"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.022368"], ["updated_at", "2021-03-10 16:05:34.022368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.028592"], ["updated_at", "2021-03-10 16:05:34.028592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.045857"], ["updated_at", "2021-03-10 16:05:34.045857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.054058"], ["updated_at", "2021-03-10 16:05:34.054058"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.060956"], ["updated_at", "2021-03-10 16:05:34.060956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:05:34.067499"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.355806"], ["updated_at", "2021-03-10 16:05:34.355806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.362099"], ["updated_at", "2021-03-10 16:05:34.362099"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.370034"], ["updated_at", "2021-03-10 16:05:34.370034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:05:34.373617"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.385867"], ["updated_at", "2021-03-10 16:05:34.385867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.391482"], ["updated_at", "2021-03-10 16:05:34.391482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.395465"], ["updated_at", "2021-03-10 16:05:34.395465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.049457"], ["updated_at", "2021-03-10 16:10:11.049457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.056046"], ["updated_at", "2021-03-10 16:10:11.056046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.058357"], ["updated_at", "2021-03-10 16:10:11.058357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:10:11.117329"], ["updated_at", "2021-03-10 16:10:11.117329"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.121736"], ["updated_at", "2021-03-10 16:10:11.121736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.128234"], ["updated_at", "2021-03-10 16:10:11.128234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.135259"], ["updated_at", "2021-03-10 16:10:11.135259"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.151658"], ["updated_at", "2021-03-10 16:10:11.151658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.156755"], ["updated_at", "2021-03-10 16:10:11.156755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.160591"], ["updated_at", "2021-03-10 16:10:11.160591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.6ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:10:11.194431"], ["updated_at", "2021-03-10 16:10:11.194431"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.224133"], ["updated_at", "2021-03-10 16:10:11.224133"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.236749"], ["updated_at", "2021-03-10 16:10:11.236749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.240594"], ["updated_at", "2021-03-10 16:10:11.240594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.3ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:10:11.245316"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.271798"], ["updated_at", "2021-03-10 16:10:11.271798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.277192"], ["updated_at", "2021-03-10 16:10:11.277192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.282700"], ["updated_at", "2021-03-10 16:10:11.282700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:10:11.288463"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (1.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.481591"], ["updated_at", "2021-03-10 16:10:11.481591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.488557"], ["updated_at", "2021-03-10 16:10:11.488557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.492485"], ["updated_at", "2021-03-10 16:10:11.492485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.512086"], ["updated_at", "2021-03-10 16:10:11.512086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.514256"], ["updated_at", "2021-03-10 16:10:11.514256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.517162"], ["updated_at", "2021-03-10 16:10:11.517162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:10:11.519793"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.529545"], ["updated_at", "2021-03-10 16:10:11.529545"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.535742"], ["updated_at", "2021-03-10 16:10:11.535742"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.538594"], ["updated_at", "2021-03-10 16:10:11.538594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.540468"], ["updated_at", "2021-03-10 16:10:11.540468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.542594"], ["updated_at", "2021-03-10 16:10:11.542594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.544246"], ["updated_at", "2021-03-10 16:10:11.544246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:10:11.545679"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.556627"], ["updated_at", "2021-03-10 16:10:11.556627"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.564352"], ["updated_at", "2021-03-10 16:10:11.564352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.569337"], ["updated_at", "2021-03-10 16:10:11.569337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.571729"], ["updated_at", "2021-03-10 16:10:11.571729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.574370"], ["updated_at", "2021-03-10 16:10:11.574370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.578714"], ["updated_at", "2021-03-10 16:10:11.578714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.613562"], ["updated_at", "2021-03-10 16:10:11.613562"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.619705"], ["updated_at", "2021-03-10 16:10:11.619705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.622151"], ["updated_at", "2021-03-10 16:10:11.622151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.624489"], ["updated_at", "2021-03-10 16:10:11.624489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.627450"], ["updated_at", "2021-03-10 16:10:11.627450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.631117"], ["updated_at", "2021-03-10 16:10:11.631117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.647613"], ["updated_at", "2021-03-10 16:10:11.647613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.653546"], ["updated_at", "2021-03-10 16:10:11.653546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.657226"], ["updated_at", "2021-03-10 16:10:11.657226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.659421"], ["updated_at", "2021-03-10 16:10:11.659421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.661270"], ["updated_at", "2021-03-10 16:10:11.661270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.662998"], ["updated_at", "2021-03-10 16:10:11.662998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.682115"], ["updated_at", "2021-03-10 16:10:11.682115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.687506"], ["updated_at", "2021-03-10 16:10:11.687506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.691286"], ["updated_at", "2021-03-10 16:10:11.691286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.694506"], ["updated_at", "2021-03-10 16:10:11.694506"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.699896"], ["updated_at", "2021-03-10 16:10:11.699896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.702901"], ["updated_at", "2021-03-10 16:10:11.702901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.759070"], ["updated_at", "2021-03-10 16:10:11.759070"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.769664"], ["updated_at", "2021-03-10 16:10:11.769664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.772094"], ["updated_at", "2021-03-10 16:10:11.772094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.773958"], ["updated_at", "2021-03-10 16:10:11.773958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.776151"], ["updated_at", "2021-03-10 16:10:11.776151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.777977"], ["updated_at", "2021-03-10 16:10:11.777977"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:10:11.803331"], ["updated_at", "2021-03-10 16:10:11.803331"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.806792"], ["updated_at", "2021-03-10 16:10:11.806792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.811502"], ["updated_at", "2021-03-10 16:10:11.811502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.814053"], ["updated_at", "2021-03-10 16:10:11.814053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (1.0ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.816047"], ["updated_at", "2021-03-10 16:10:11.816047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.819201"], ["updated_at", "2021-03-10 16:10:11.819201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.821014"], ["updated_at", "2021-03-10 16:10:11.821014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
