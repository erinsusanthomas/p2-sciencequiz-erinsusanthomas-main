  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (17.4ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "street_1" varchar NOT NULL, "street_2" varchar, "city" varchar, "state" varchar, "zip" varchar NOT NULL, "short_name" varchar NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "student_teams"[0m
  [1m[35m (11.3ms)[0m  [1m[35mCREATE TABLE "student_teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer NOT NULL, "team_id" integer NOT NULL, "start_date" date NOT NULL, "end_date" date, "position" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (16.1ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_student_id" ON "student_teams" ("student_id")[0m
  [1m[35m (15.4ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_team_id" ON "student_teams" ("team_id")[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE IF EXISTS "students"[0m
  [1m[35m (11.2ms)[0m  [1m[35mCREATE TABLE "students" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar NOT NULL, "last_name" varchar NOT NULL, "grade" integer NOT NULL, "organization_id" integer NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE  INDEX "index_students_on_organization_id" ON "students" ("organization_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "teams"[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE TABLE "teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "organization_id" integer NOT NULL, "division" varchar NOT NULL, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (11.5ms)[0m  [1m[35mCREATE  INDEX "index_teams_on_organization_id" ON "teams" ("organization_id")[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (11.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210222163246)[0m
  [1m[35m (13.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210220104945),
(20210222161946),
(20210222162516);

[0m
  [1m[35m (13.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (2.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-03-10 15:06:59.851273"], ["updated_at", "2021-03-10 15:06:59.851273"]]
  [1m[35m (15.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:07:22.951348"], ["updated_at", "2021-03-10 15:07:22.951348"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.070527"], ["updated_at", "2021-03-10 15:07:23.070527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.077084"], ["updated_at", "2021-03-10 15:07:23.077084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.079282"], ["updated_at", "2021-03-10 15:07:23.079282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:07:23.081311"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "CA". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.174673"], ["updated_at", "2021-03-10 15:07:23.174673"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.179288"], ["updated_at", "2021-03-10 15:07:23.179288"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.184040"], ["updated_at", "2021-03-10 15:07:23.184040"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (39.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:07:23.251361"], ["updated_at", "2021-03-10 15:07:23.251361"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.558720"], ["updated_at", "2021-03-10 15:07:23.558720"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.568472"], ["updated_at", "2021-03-10 15:07:23.568472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.571940"], ["updated_at", "2021-03-10 15:07:23.571940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:07:23.575387"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.590578"], ["updated_at", "2021-03-10 15:07:23.590578"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.595711"], ["updated_at", "2021-03-10 15:07:23.595711"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.606002"], ["updated_at", "2021-03-10 15:07:23.606002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (23.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:07:23.641698"], ["updated_at", "2021-03-10 15:07:23.641698"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:07:23.646352"], ["updated_at", "2021-03-10 15:07:23.646352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:07:23.649535"], ["updated_at", "2021-03-10 15:07:23.649535"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.798661"], ["updated_at", "2021-03-10 15:17:44.798661"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.804363"], ["updated_at", "2021-03-10 15:17:44.804363"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.806615"], ["updated_at", "2021-03-10 15:17:44.806615"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.847384"], ["updated_at", "2021-03-10 15:17:44.847384"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.852109"], ["updated_at", "2021-03-10 15:17:44.852109"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.854521"], ["updated_at", "2021-03-10 15:17:44.854521"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:44.877160"], ["updated_at", "2021-03-10 15:17:44.877160"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:44.882465"], ["updated_at", "2021-03-10 15:17:44.882465"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:44.888756"], ["updated_at", "2021-03-10 15:17:44.888756"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (14.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:45.065271"], ["updated_at", "2021-03-10 15:17:45.065271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:45.071306"], ["updated_at", "2021-03-10 15:17:45.071306"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:45.074515"], ["updated_at", "2021-03-10 15:17:45.074515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:17:45.077278"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:17:45.105403"], ["updated_at", "2021-03-10 15:17:45.105403"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:17:45.122727"], ["updated_at", "2021-03-10 15:17:45.122727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:17:45.127710"], ["updated_at", "2021-03-10 15:17:45.127710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:17:45.130203"], ["updated_at", "2021-03-10 15:17:45.130203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:17:45.133255"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:17:45.233422"], ["updated_at", "2021-03-10 15:17:45.233422"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.162332"], ["updated_at", "2021-03-10 15:22:04.162332"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.167748"], ["updated_at", "2021-03-10 15:22:04.167748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.169664"], ["updated_at", "2021-03-10 15:22:04.169664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:22:04.197033"], ["updated_at", "2021-03-10 15:22:04.197033"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.214227"], ["updated_at", "2021-03-10 15:22:04.214227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.250726"], ["updated_at", "2021-03-10 15:22:04.250726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.252645"], ["updated_at", "2021-03-10 15:22:04.252645"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.269517"], ["updated_at", "2021-03-10 15:22:04.269517"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.272695"], ["updated_at", "2021-03-10 15:22:04.272695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.276328"], ["updated_at", "2021-03-10 15:22:04.276328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.288304"], ["updated_at", "2021-03-10 15:22:04.288304"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.299475"], ["updated_at", "2021-03-10 15:22:04.299475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.301831"], ["updated_at", "2021-03-10 15:22:04.301831"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:22:04.303614"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:22:04.312327"], ["updated_at", "2021-03-10 15:22:04.312327"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:22:04.316957"], ["updated_at", "2021-03-10 15:22:04.316957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:22:04.320844"], ["updated_at", "2021-03-10 15:22:04.320844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.5ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:22:04.326036"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:22:04.564320"], ["updated_at", "2021-03-10 15:22:04.564320"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (8.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.784363"], ["updated_at", "2021-03-10 15:36:18.784363"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.798175"], ["updated_at", "2021-03-10 15:36:18.798175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.805689"], ["updated_at", "2021-03-10 15:36:18.805689"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 15:36:18.811822"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (13.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 15:36:18.852899"], ["updated_at", "2021-03-10 15:36:18.852899"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (5.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.868000"], ["updated_at", "2021-03-10 15:36:18.868000"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.881683"], ["updated_at", "2021-03-10 15:36:18.881683"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.886009"], ["updated_at", "2021-03-10 15:36:18.886009"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:18.915899"], ["updated_at", "2021-03-10 15:36:18.915899"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:18.924229"], ["updated_at", "2021-03-10 15:36:18.924229"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:18.928047"], ["updated_at", "2021-03-10 15:36:18.928047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 15:36:18.932002"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:19.302008"], ["updated_at", "2021-03-10 15:36:19.302008"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:19.309863"], ["updated_at", "2021-03-10 15:36:19.309863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:19.313617"], ["updated_at", "2021-03-10 15:36:19.313617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 15:36:19.353166"], ["updated_at", "2021-03-10 15:36:19.353166"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 15:36:19.367965"], ["updated_at", "2021-03-10 15:36:19.367965"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 15:36:19.398275"], ["updated_at", "2021-03-10 15:36:19.398275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 15:36:19.429709"], ["updated_at", "2021-03-10 15:36:19.429709"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.519903"], ["updated_at", "2021-03-10 16:02:37.519903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.524195"], ["updated_at", "2021-03-10 16:02:37.524195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.526273"], ["updated_at", "2021-03-10 16:02:37.526273"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.528524"], ["updated_at", "2021-03-10 16:02:37.528524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.532486"], ["updated_at", "2021-03-10 16:02:37.532486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.535020"], ["updated_at", "2021-03-10 16:02:37.535020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:02:37.536373"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.548099"], ["updated_at", "2021-03-10 16:02:37.548099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.553394"], ["updated_at", "2021-03-10 16:02:37.553394"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.555727"], ["updated_at", "2021-03-10 16:02:37.555727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.557593"], ["updated_at", "2021-03-10 16:02:37.557593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.559269"], ["updated_at", "2021-03-10 16:02:37.559269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.560662"], ["updated_at", "2021-03-10 16:02:37.560662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.582916"], ["updated_at", "2021-03-10 16:02:37.582916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.586645"], ["updated_at", "2021-03-10 16:02:37.586645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.589287"], ["updated_at", "2021-03-10 16:02:37.589287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.591070"], ["updated_at", "2021-03-10 16:02:37.591070"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.592680"], ["updated_at", "2021-03-10 16:02:37.592680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.594078"], ["updated_at", "2021-03-10 16:02:37.594078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.617601"], ["updated_at", "2021-03-10 16:02:37.617601"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.622712"], ["updated_at", "2021-03-10 16:02:37.622712"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.629143"], ["updated_at", "2021-03-10 16:02:37.629143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.633333"], ["updated_at", "2021-03-10 16:02:37.633333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.636211"], ["updated_at", "2021-03-10 16:02:37.636211"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.638544"], ["updated_at", "2021-03-10 16:02:37.638544"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:02:37.640658"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.657611"], ["updated_at", "2021-03-10 16:02:37.657611"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.661359"], ["updated_at", "2021-03-10 16:02:37.661359"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.666341"], ["updated_at", "2021-03-10 16:02:37.666341"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.669256"], ["updated_at", "2021-03-10 16:02:37.669256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.671800"], ["updated_at", "2021-03-10 16:02:37.671800"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.674487"], ["updated_at", "2021-03-10 16:02:37.674487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.802060"], ["updated_at", "2021-03-10 16:02:37.802060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.820419"], ["updated_at", "2021-03-10 16:02:37.820419"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.827053"], ["updated_at", "2021-03-10 16:02:37.827053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.831320"], ["updated_at", "2021-03-10 16:02:37.831320"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.838063"], ["updated_at", "2021-03-10 16:02:37.838063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.841344"], ["updated_at", "2021-03-10 16:02:37.841344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (42.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (1.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (17.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.906301"], ["updated_at", "2021-03-10 16:02:37.906301"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:37.928781"], ["updated_at", "2021-03-10 16:02:37.928781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:37.933910"], ["updated_at", "2021-03-10 16:02:37.933910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:37.937557"], ["updated_at", "2021-03-10 16:02:37.937557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:37.941207"], ["updated_at", "2021-03-10 16:02:37.941207"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:37.944447"], ["updated_at", "2021-03-10 16:02:37.944447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (40.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (16.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:02:37.995230"], ["updated_at", "2021-03-10 16:02:37.995230"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:02:38.016966"], ["updated_at", "2021-03-10 16:02:38.016966"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:02:38.021154"], ["updated_at", "2021-03-10 16:02:38.021154"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:02:38.024802"], ["updated_at", "2021-03-10 16:02:38.024802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:02:38.028514"], ["updated_at", "2021-03-10 16:02:38.028514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:02:38.032375"], ["updated_at", "2021-03-10 16:02:38.032375"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.7ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (1.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (18.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.5ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (33.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:02:38.074984"], ["updated_at", "2021-03-10 16:02:38.074984"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.152450"], ["updated_at", "2021-03-10 16:03:27.152450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.158564"], ["updated_at", "2021-03-10 16:03:27.158564"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.162547"], ["updated_at", "2021-03-10 16:03:27.162547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.164320"], ["updated_at", "2021-03-10 16:03:27.164320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.167526"], ["updated_at", "2021-03-10 16:03:27.167526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.169052"], ["updated_at", "2021-03-10 16:03:27.169052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.192449"], ["updated_at", "2021-03-10 16:03:27.192449"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.195872"], ["updated_at", "2021-03-10 16:03:27.195872"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.199379"], ["updated_at", "2021-03-10 16:03:27.199379"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.201531"], ["updated_at", "2021-03-10 16:03:27.201531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.203473"], ["updated_at", "2021-03-10 16:03:27.203473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.205360"], ["updated_at", "2021-03-10 16:03:27.205360"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.222257"], ["updated_at", "2021-03-10 16:03:27.222257"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.228821"], ["updated_at", "2021-03-10 16:03:27.228821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.235362"], ["updated_at", "2021-03-10 16:03:27.235362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.238463"], ["updated_at", "2021-03-10 16:03:27.238463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.241429"], ["updated_at", "2021-03-10 16:03:27.241429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.246799"], ["updated_at", "2021-03-10 16:03:27.246799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.271961"], ["updated_at", "2021-03-10 16:03:27.271961"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.277150"], ["updated_at", "2021-03-10 16:03:27.277150"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.282138"], ["updated_at", "2021-03-10 16:03:27.282138"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.284915"], ["updated_at", "2021-03-10 16:03:27.284915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.288840"], ["updated_at", "2021-03-10 16:03:27.288840"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.292894"], ["updated_at", "2021-03-10 16:03:27.292894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:03:27.296173"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.316319"], ["updated_at", "2021-03-10 16:03:27.316319"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.321956"], ["updated_at", "2021-03-10 16:03:27.321956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.324573"], ["updated_at", "2021-03-10 16:03:27.324573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.326776"], ["updated_at", "2021-03-10 16:03:27.326776"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.328962"], ["updated_at", "2021-03-10 16:03:27.328962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.331132"], ["updated_at", "2021-03-10 16:03:27.331132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:03:27.333527"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.350675"], ["updated_at", "2021-03-10 16:03:27.350675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.355189"], ["updated_at", "2021-03-10 16:03:27.355189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.357786"], ["updated_at", "2021-03-10 16:03:27.357786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.359987"], ["updated_at", "2021-03-10 16:03:27.359987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.362051"], ["updated_at", "2021-03-10 16:03:27.362051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.364480"], ["updated_at", "2021-03-10 16:03:27.364480"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.381051"], ["updated_at", "2021-03-10 16:03:27.381051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.387147"], ["updated_at", "2021-03-10 16:03:27.387147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.389730"], ["updated_at", "2021-03-10 16:03:27.389730"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.391932"], ["updated_at", "2021-03-10 16:03:27.391932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.393960"], ["updated_at", "2021-03-10 16:03:27.393960"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.396066"], ["updated_at", "2021-03-10 16:03:27.396066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:27.427645"], ["updated_at", "2021-03-10 16:03:27.427645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:27.434382"], ["updated_at", "2021-03-10 16:03:27.434382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:27.437289"], ["updated_at", "2021-03-10 16:03:27.437289"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:03:27.439535"], ["updated_at", "2021-03-10 16:03:27.439535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:03:27.442255"], ["updated_at", "2021-03-10 16:03:27.442255"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:03:27.444680"], ["updated_at", "2021-03-10 16:03:27.444680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:03:27.501795"], ["updated_at", "2021-03-10 16:03:27.501795"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.547705"], ["updated_at", "2021-03-10 16:03:31.547705"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.554272"], ["updated_at", "2021-03-10 16:03:31.554272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.557814"], ["updated_at", "2021-03-10 16:03:31.557814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:03:31.567751"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:03:31.586057"], ["updated_at", "2021-03-10 16:03:31.586057"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.613874"], ["updated_at", "2021-03-10 16:03:31.613874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.620555"], ["updated_at", "2021-03-10 16:03:31.620555"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.627574"], ["updated_at", "2021-03-10 16:03:31.627574"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:03:31.631459"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.643498"], ["updated_at", "2021-03-10 16:03:31.643498"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.650318"], ["updated_at", "2021-03-10 16:03:31.650318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.653297"], ["updated_at", "2021-03-10 16:03:31.653297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.668177"], ["updated_at", "2021-03-10 16:03:31.668177"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.675878"], ["updated_at", "2021-03-10 16:03:31.675878"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.682517"], ["updated_at", "2021-03-10 16:03:31.682517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:03:31.798352"], ["updated_at", "2021-03-10 16:03:31.798352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:03:31.807782"], ["updated_at", "2021-03-10 16:03:31.807782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:03:31.813823"], ["updated_at", "2021-03-10 16:03:31.813823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:03:31.835950"], ["updated_at", "2021-03-10 16:03:31.835950"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.196450"], ["updated_at", "2021-03-10 16:05:33.196450"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.208528"], ["updated_at", "2021-03-10 16:05:33.208528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.214725"], ["updated_at", "2021-03-10 16:05:33.214725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.273169"], ["updated_at", "2021-03-10 16:05:33.273169"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.276699"], ["updated_at", "2021-03-10 16:05:33.276699"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.279674"], ["updated_at", "2021-03-10 16:05:33.279674"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.316804"], ["updated_at", "2021-03-10 16:05:33.316804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.331311"], ["updated_at", "2021-03-10 16:05:33.331311"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.339444"], ["updated_at", "2021-03-10 16:05:33.339444"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.344329"], ["updated_at", "2021-03-10 16:05:33.344329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.349209"], ["updated_at", "2021-03-10 16:05:33.349209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.352596"], ["updated_at", "2021-03-10 16:05:33.352596"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (30.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.399382"], ["updated_at", "2021-03-10 16:05:33.399382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.411268"], ["updated_at", "2021-03-10 16:05:33.411268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.417876"], ["updated_at", "2021-03-10 16:05:33.417876"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.422199"], ["updated_at", "2021-03-10 16:05:33.422199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.427935"], ["updated_at", "2021-03-10 16:05:33.427935"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.444333"], ["updated_at", "2021-03-10 16:05:33.444333"]]
  [1m[35m (0.9ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (22.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.524856"], ["updated_at", "2021-03-10 16:05:33.524856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.533465"], ["updated_at", "2021-03-10 16:05:33.533465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.537656"], ["updated_at", "2021-03-10 16:05:33.537656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.541206"], ["updated_at", "2021-03-10 16:05:33.541206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.543660"], ["updated_at", "2021-03-10 16:05:33.543660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.550187"], ["updated_at", "2021-03-10 16:05:33.550187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.632847"], ["updated_at", "2021-03-10 16:05:33.632847"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.639785"], ["updated_at", "2021-03-10 16:05:33.639785"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.648028"], ["updated_at", "2021-03-10 16:05:33.648028"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.651662"], ["updated_at", "2021-03-10 16:05:33.651662"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.655309"], ["updated_at", "2021-03-10 16:05:33.655309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.658870"], ["updated_at", "2021-03-10 16:05:33.658870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.3ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:05:33.661949"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.682500"], ["updated_at", "2021-03-10 16:05:33.682500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.688612"], ["updated_at", "2021-03-10 16:05:33.688612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.693403"], ["updated_at", "2021-03-10 16:05:33.693403"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.697342"], ["updated_at", "2021-03-10 16:05:33.697342"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.701132"], ["updated_at", "2021-03-10 16:05:33.701132"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.705920"], ["updated_at", "2021-03-10 16:05:33.705920"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.740078"], ["updated_at", "2021-03-10 16:05:33.740078"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.746305"], ["updated_at", "2021-03-10 16:05:33.746305"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.751407"], ["updated_at", "2021-03-10 16:05:33.751407"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.754998"], ["updated_at", "2021-03-10 16:05:33.754998"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.758317"], ["updated_at", "2021-03-10 16:05:33.758317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.760722"], ["updated_at", "2021-03-10 16:05:33.760722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:05:33.765875"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.812881"], ["updated_at", "2021-03-10 16:05:33.812881"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.820874"], ["updated_at", "2021-03-10 16:05:33.820874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.824420"], ["updated_at", "2021-03-10 16:05:33.824420"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.8ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:05:33.828658"], ["updated_at", "2021-03-10 16:05:33.828658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:05:33.832689"], ["updated_at", "2021-03-10 16:05:33.832689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:05:33.834642"], ["updated_at", "2021-03-10 16:05:33.834642"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (35.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:05:33.881772"], ["updated_at", "2021-03-10 16:05:33.881772"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (1.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:05:33.911508"], ["updated_at", "2021-03-10 16:05:33.911508"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:33.950558"], ["updated_at", "2021-03-10 16:05:33.950558"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:33.959073"], ["updated_at", "2021-03-10 16:05:33.959073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:33.967140"], ["updated_at", "2021-03-10 16:05:33.967140"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:05:33.988399"], ["updated_at", "2021-03-10 16:05:33.988399"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.013049"], ["updated_at", "2021-03-10 16:05:34.013049"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.022368"], ["updated_at", "2021-03-10 16:05:34.022368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.028592"], ["updated_at", "2021-03-10 16:05:34.028592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.045857"], ["updated_at", "2021-03-10 16:05:34.045857"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.054058"], ["updated_at", "2021-03-10 16:05:34.054058"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.060956"], ["updated_at", "2021-03-10 16:05:34.060956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:05:34.067499"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.355806"], ["updated_at", "2021-03-10 16:05:34.355806"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.362099"], ["updated_at", "2021-03-10 16:05:34.362099"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.370034"], ["updated_at", "2021-03-10 16:05:34.370034"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:05:34.373617"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:05:34.385867"], ["updated_at", "2021-03-10 16:05:34.385867"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:05:34.391482"], ["updated_at", "2021-03-10 16:05:34.391482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:05:34.395465"], ["updated_at", "2021-03-10 16:05:34.395465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.049457"], ["updated_at", "2021-03-10 16:10:11.049457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.056046"], ["updated_at", "2021-03-10 16:10:11.056046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.058357"], ["updated_at", "2021-03-10 16:10:11.058357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:10:11.117329"], ["updated_at", "2021-03-10 16:10:11.117329"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.121736"], ["updated_at", "2021-03-10 16:10:11.121736"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.128234"], ["updated_at", "2021-03-10 16:10:11.128234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.135259"], ["updated_at", "2021-03-10 16:10:11.135259"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.151658"], ["updated_at", "2021-03-10 16:10:11.151658"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.156755"], ["updated_at", "2021-03-10 16:10:11.156755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.160591"], ["updated_at", "2021-03-10 16:10:11.160591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.6ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 16:10:11.194431"], ["updated_at", "2021-03-10 16:10:11.194431"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.224133"], ["updated_at", "2021-03-10 16:10:11.224133"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.236749"], ["updated_at", "2021-03-10 16:10:11.236749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.240594"], ["updated_at", "2021-03-10 16:10:11.240594"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.3ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:10:11.245316"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.271798"], ["updated_at", "2021-03-10 16:10:11.271798"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.277192"], ["updated_at", "2021-03-10 16:10:11.277192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.282700"], ["updated_at", "2021-03-10 16:10:11.282700"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:10:11.288463"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (1.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.481591"], ["updated_at", "2021-03-10 16:10:11.481591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.488557"], ["updated_at", "2021-03-10 16:10:11.488557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.492485"], ["updated_at", "2021-03-10 16:10:11.492485"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.512086"], ["updated_at", "2021-03-10 16:10:11.512086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.514256"], ["updated_at", "2021-03-10 16:10:11.514256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.517162"], ["updated_at", "2021-03-10 16:10:11.517162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 16:10:11.519793"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.529545"], ["updated_at", "2021-03-10 16:10:11.529545"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.535742"], ["updated_at", "2021-03-10 16:10:11.535742"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.538594"], ["updated_at", "2021-03-10 16:10:11.538594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.540468"], ["updated_at", "2021-03-10 16:10:11.540468"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.542594"], ["updated_at", "2021-03-10 16:10:11.542594"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.544246"], ["updated_at", "2021-03-10 16:10:11.544246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 16:10:11.545679"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.556627"], ["updated_at", "2021-03-10 16:10:11.556627"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.564352"], ["updated_at", "2021-03-10 16:10:11.564352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.569337"], ["updated_at", "2021-03-10 16:10:11.569337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.571729"], ["updated_at", "2021-03-10 16:10:11.571729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.574370"], ["updated_at", "2021-03-10 16:10:11.574370"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.578714"], ["updated_at", "2021-03-10 16:10:11.578714"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.613562"], ["updated_at", "2021-03-10 16:10:11.613562"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.619705"], ["updated_at", "2021-03-10 16:10:11.619705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.622151"], ["updated_at", "2021-03-10 16:10:11.622151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.624489"], ["updated_at", "2021-03-10 16:10:11.624489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.627450"], ["updated_at", "2021-03-10 16:10:11.627450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.631117"], ["updated_at", "2021-03-10 16:10:11.631117"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.647613"], ["updated_at", "2021-03-10 16:10:11.647613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.653546"], ["updated_at", "2021-03-10 16:10:11.653546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.657226"], ["updated_at", "2021-03-10 16:10:11.657226"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.659421"], ["updated_at", "2021-03-10 16:10:11.659421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.661270"], ["updated_at", "2021-03-10 16:10:11.661270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.662998"], ["updated_at", "2021-03-10 16:10:11.662998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.682115"], ["updated_at", "2021-03-10 16:10:11.682115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.687506"], ["updated_at", "2021-03-10 16:10:11.687506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.691286"], ["updated_at", "2021-03-10 16:10:11.691286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.6ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.694506"], ["updated_at", "2021-03-10 16:10:11.694506"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.699896"], ["updated_at", "2021-03-10 16:10:11.699896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.702901"], ["updated_at", "2021-03-10 16:10:11.702901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.759070"], ["updated_at", "2021-03-10 16:10:11.759070"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.769664"], ["updated_at", "2021-03-10 16:10:11.769664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.772094"], ["updated_at", "2021-03-10 16:10:11.772094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.773958"], ["updated_at", "2021-03-10 16:10:11.773958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.776151"], ["updated_at", "2021-03-10 16:10:11.776151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.777977"], ["updated_at", "2021-03-10 16:10:11.777977"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 16:10:11.803331"], ["updated_at", "2021-03-10 16:10:11.803331"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 16:10:11.806792"], ["updated_at", "2021-03-10 16:10:11.806792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 16:10:11.811502"], ["updated_at", "2021-03-10 16:10:11.811502"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 16:10:11.814053"], ["updated_at", "2021-03-10 16:10:11.814053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (1.0ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 16:10:11.816047"], ["updated_at", "2021-03-10 16:10:11.816047"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 16:10:11.819201"], ["updated_at", "2021-03-10 16:10:11.819201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 16:10:11.821014"], ["updated_at", "2021-03-10 16:10:11.821014"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.093348"], ["updated_at", "2021-03-10 19:52:27.093348"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.096527"], ["updated_at", "2021-03-10 19:52:27.096527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.103792"], ["updated_at", "2021-03-10 19:52:27.103792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (4.0ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 19:52:27.151401"], ["updated_at", "2021-03-10 19:52:27.151401"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.157340"], ["updated_at", "2021-03-10 19:52:27.157340"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.163066"], ["updated_at", "2021-03-10 19:52:27.163066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.165927"], ["updated_at", "2021-03-10 19:52:27.165927"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.259020"], ["updated_at", "2021-03-10 19:52:27.259020"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.263725"], ["updated_at", "2021-03-10 19:52:27.263725"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.272338"], ["updated_at", "2021-03-10 19:52:27.272338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.375155"], ["updated_at", "2021-03-10 19:52:27.375155"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.382437"], ["updated_at", "2021-03-10 19:52:27.382437"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.389810"], ["updated_at", "2021-03-10 19:52:27.389810"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 19:52:27.395640"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.7ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.409868"], ["updated_at", "2021-03-10 19:52:27.409868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.415228"], ["updated_at", "2021-03-10 19:52:27.415228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.420650"], ["updated_at", "2021-03-10 19:52:27.420650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 19:52:27.423315"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 19:52:27.653333"], ["updated_at", "2021-03-10 19:52:27.653333"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.660310"], ["updated_at", "2021-03-10 19:52:27.660310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.664094"], ["updated_at", "2021-03-10 19:52:27.664094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.666063"], ["updated_at", "2021-03-10 19:52:27.666063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.704547"], ["updated_at", "2021-03-10 19:52:27.704547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.706560"], ["updated_at", "2021-03-10 19:52:27.706560"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.708407"], ["updated_at", "2021-03-10 19:52:27.708407"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 19:52:27.720522"], ["updated_at", "2021-03-10 19:52:27.720522"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.725268"], ["updated_at", "2021-03-10 19:52:27.725268"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.729756"], ["updated_at", "2021-03-10 19:52:27.729756"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.733159"], ["updated_at", "2021-03-10 19:52:27.733159"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (7.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.735625"], ["updated_at", "2021-03-10 19:52:27.735625"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.746169"], ["updated_at", "2021-03-10 19:52:27.746169"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.748922"], ["updated_at", "2021-03-10 19:52:27.748922"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (14.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.773694"], ["updated_at", "2021-03-10 19:52:27.773694"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.778557"], ["updated_at", "2021-03-10 19:52:27.778557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.782281"], ["updated_at", "2021-03-10 19:52:27.782281"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.785905"], ["updated_at", "2021-03-10 19:52:27.785905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.790364"], ["updated_at", "2021-03-10 19:52:27.790364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.793261"], ["updated_at", "2021-03-10 19:52:27.793261"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.819537"], ["updated_at", "2021-03-10 19:52:27.819537"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.822553"], ["updated_at", "2021-03-10 19:52:27.822553"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.825299"], ["updated_at", "2021-03-10 19:52:27.825299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.827157"], ["updated_at", "2021-03-10 19:52:27.827157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.828886"], ["updated_at", "2021-03-10 19:52:27.828886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.830426"], ["updated_at", "2021-03-10 19:52:27.830426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 19:52:27.831913"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.902493"], ["updated_at", "2021-03-10 19:52:27.902493"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.908350"], ["updated_at", "2021-03-10 19:52:27.908350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.915774"], ["updated_at", "2021-03-10 19:52:27.915774"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.920430"], ["updated_at", "2021-03-10 19:52:27.920430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.924027"], ["updated_at", "2021-03-10 19:52:27.924027"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.927742"], ["updated_at", "2021-03-10 19:52:27.927742"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:27.954899"], ["updated_at", "2021-03-10 19:52:27.954899"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:27.958796"], ["updated_at", "2021-03-10 19:52:27.958796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:27.961203"], ["updated_at", "2021-03-10 19:52:27.961203"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:27.962933"], ["updated_at", "2021-03-10 19:52:27.962933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:27.964878"], ["updated_at", "2021-03-10 19:52:27.964878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:27.967239"], ["updated_at", "2021-03-10 19:52:27.967239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 19:52:27.969318"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:28.016315"], ["updated_at", "2021-03-10 19:52:28.016315"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:28.022615"], ["updated_at", "2021-03-10 19:52:28.022615"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:28.024913"], ["updated_at", "2021-03-10 19:52:28.024913"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.8ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:28.028942"], ["updated_at", "2021-03-10 19:52:28.028942"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:28.031810"], ["updated_at", "2021-03-10 19:52:28.031810"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:28.033621"], ["updated_at", "2021-03-10 19:52:28.033621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:52:28.055007"], ["updated_at", "2021-03-10 19:52:28.055007"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:52:28.059330"], ["updated_at", "2021-03-10 19:52:28.059330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:52:28.061145"], ["updated_at", "2021-03-10 19:52:28.061145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:52:28.062937"], ["updated_at", "2021-03-10 19:52:28.062937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:52:28.064634"], ["updated_at", "2021-03-10 19:52:28.064634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:52:28.066110"], ["updated_at", "2021-03-10 19:52:28.066110"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (2.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.254836"], ["updated_at", "2021-03-10 19:55:43.254836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.263852"], ["updated_at", "2021-03-10 19:55:43.263852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.270907"], ["updated_at", "2021-03-10 19:55:43.270907"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.380620"], ["updated_at", "2021-03-10 19:55:43.380620"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.385612"], ["updated_at", "2021-03-10 19:55:43.385612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.389325"], ["updated_at", "2021-03-10 19:55:43.389325"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.419117"], ["updated_at", "2021-03-10 19:55:43.419117"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.428523"], ["updated_at", "2021-03-10 19:55:43.428523"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.437578"], ["updated_at", "2021-03-10 19:55:43.437578"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.443688"], ["updated_at", "2021-03-10 19:55:43.443688"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.446848"], ["updated_at", "2021-03-10 19:55:43.446848"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.450231"], ["updated_at", "2021-03-10 19:55:43.450231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.4ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 19:55:43.453618"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (13.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.480493"], ["updated_at", "2021-03-10 19:55:43.480493"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.486529"], ["updated_at", "2021-03-10 19:55:43.486529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.488020"], ["updated_at", "2021-03-10 19:55:43.488020"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.489169"], ["updated_at", "2021-03-10 19:55:43.489169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.490391"], ["updated_at", "2021-03-10 19:55:43.490391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.491472"], ["updated_at", "2021-03-10 19:55:43.491472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (38.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.577472"], ["updated_at", "2021-03-10 19:55:43.577472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.583880"], ["updated_at", "2021-03-10 19:55:43.583880"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.586901"], ["updated_at", "2021-03-10 19:55:43.586901"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.590410"], ["updated_at", "2021-03-10 19:55:43.590410"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.594930"], ["updated_at", "2021-03-10 19:55:43.594930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.598076"], ["updated_at", "2021-03-10 19:55:43.598076"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.617630"], ["updated_at", "2021-03-10 19:55:43.617630"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.620335"], ["updated_at", "2021-03-10 19:55:43.620335"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.622751"], ["updated_at", "2021-03-10 19:55:43.622751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.624193"], ["updated_at", "2021-03-10 19:55:43.624193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.625596"], ["updated_at", "2021-03-10 19:55:43.625596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.627033"], ["updated_at", "2021-03-10 19:55:43.627033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.643896"], ["updated_at", "2021-03-10 19:55:43.643896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.648446"], ["updated_at", "2021-03-10 19:55:43.648446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.650268"], ["updated_at", "2021-03-10 19:55:43.650268"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.651524"], ["updated_at", "2021-03-10 19:55:43.651524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.652838"], ["updated_at", "2021-03-10 19:55:43.652838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.654041"], ["updated_at", "2021-03-10 19:55:43.654041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.676106"], ["updated_at", "2021-03-10 19:55:43.676106"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.681720"], ["updated_at", "2021-03-10 19:55:43.681720"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.685567"], ["updated_at", "2021-03-10 19:55:43.685567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.688294"], ["updated_at", "2021-03-10 19:55:43.688294"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.692950"], ["updated_at", "2021-03-10 19:55:43.692950"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.698331"], ["updated_at", "2021-03-10 19:55:43.698331"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.3ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 19:55:43.700843"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (20.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.732240"], ["updated_at", "2021-03-10 19:55:43.732240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.738829"], ["updated_at", "2021-03-10 19:55:43.738829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.753717"], ["updated_at", "2021-03-10 19:55:43.753717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 19:55:43.756797"], ["updated_at", "2021-03-10 19:55:43.756797"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 19:55:43.759719"], ["updated_at", "2021-03-10 19:55:43.759719"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 19:55:43.763074"], ["updated_at", "2021-03-10 19:55:43.763074"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (13.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.807986"], ["updated_at", "2021-03-10 19:55:43.807986"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.815500"], ["updated_at", "2021-03-10 19:55:43.815500"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.819718"], ["updated_at", "2021-03-10 19:55:43.819718"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.851308"], ["updated_at", "2021-03-10 19:55:43.851308"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.854687"], ["updated_at", "2021-03-10 19:55:43.854687"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.857646"], ["updated_at", "2021-03-10 19:55:43.857646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:43.873546"], ["updated_at", "2021-03-10 19:55:43.873546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:43.877504"], ["updated_at", "2021-03-10 19:55:43.877504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:43.881295"], ["updated_at", "2021-03-10 19:55:43.881295"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 19:55:44.123307"], ["updated_at", "2021-03-10 19:55:44.123307"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:44.153197"], ["updated_at", "2021-03-10 19:55:44.153197"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:44.161286"], ["updated_at", "2021-03-10 19:55:44.161286"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:44.164676"], ["updated_at", "2021-03-10 19:55:44.164676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 19:55:44.166646"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 19:55:44.202404"], ["updated_at", "2021-03-10 19:55:44.202404"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 19:55:44.208224"], ["updated_at", "2021-03-10 19:55:44.208224"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 19:55:44.210771"], ["updated_at", "2021-03-10 19:55:44.210771"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 19:55:44.214884"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.640116"], ["updated_at", "2021-03-10 20:07:12.640116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.645122"], ["updated_at", "2021-03-10 20:07:12.645122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.647747"], ["updated_at", "2021-03-10 20:07:12.647747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.650782"], ["updated_at", "2021-03-10 20:07:12.650782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.654085"], ["updated_at", "2021-03-10 20:07:12.654085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.655567"], ["updated_at", "2021-03-10 20:07:12.655567"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:07:12.656508"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.667464"], ["updated_at", "2021-03-10 20:07:12.667464"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.670484"], ["updated_at", "2021-03-10 20:07:12.670484"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.673398"], ["updated_at", "2021-03-10 20:07:12.673398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.674775"], ["updated_at", "2021-03-10 20:07:12.674775"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.676763"], ["updated_at", "2021-03-10 20:07:12.676763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.678057"], ["updated_at", "2021-03-10 20:07:12.678057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:07:12.679279"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.697337"], ["updated_at", "2021-03-10 20:07:12.697337"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.700314"], ["updated_at", "2021-03-10 20:07:12.700314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.702181"], ["updated_at", "2021-03-10 20:07:12.702181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.703480"], ["updated_at", "2021-03-10 20:07:12.703480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.704796"], ["updated_at", "2021-03-10 20:07:12.704796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.705986"], ["updated_at", "2021-03-10 20:07:12.705986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.742961"], ["updated_at", "2021-03-10 20:07:12.742961"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.749303"], ["updated_at", "2021-03-10 20:07:12.749303"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.754097"], ["updated_at", "2021-03-10 20:07:12.754097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.757285"], ["updated_at", "2021-03-10 20:07:12.757285"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.760651"], ["updated_at", "2021-03-10 20:07:12.760651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.765794"], ["updated_at", "2021-03-10 20:07:12.765794"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.8ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (18.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.805281"], ["updated_at", "2021-03-10 20:07:12.805281"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.812056"], ["updated_at", "2021-03-10 20:07:12.812056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.814764"], ["updated_at", "2021-03-10 20:07:12.814764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.817036"], ["updated_at", "2021-03-10 20:07:12.817036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.819728"], ["updated_at", "2021-03-10 20:07:12.819728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.821951"], ["updated_at", "2021-03-10 20:07:12.821951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.833516"], ["updated_at", "2021-03-10 20:07:12.833516"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.836595"], ["updated_at", "2021-03-10 20:07:12.836595"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.839700"], ["updated_at", "2021-03-10 20:07:12.839700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.841184"], ["updated_at", "2021-03-10 20:07:12.841184"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.843609"], ["updated_at", "2021-03-10 20:07:12.843609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.845660"], ["updated_at", "2021-03-10 20:07:12.845660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.863215"], ["updated_at", "2021-03-10 20:07:12.863215"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.867057"], ["updated_at", "2021-03-10 20:07:12.867057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.869173"], ["updated_at", "2021-03-10 20:07:12.869173"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.870599"], ["updated_at", "2021-03-10 20:07:12.870599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.871978"], ["updated_at", "2021-03-10 20:07:12.871978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.873230"], ["updated_at", "2021-03-10 20:07:12.873230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.894319"], ["updated_at", "2021-03-10 20:07:12.894319"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.897476"], ["updated_at", "2021-03-10 20:07:12.897476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.899431"], ["updated_at", "2021-03-10 20:07:12.899431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:12.900749"], ["updated_at", "2021-03-10 20:07:12.900749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:12.902071"], ["updated_at", "2021-03-10 20:07:12.902071"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:12.903239"], ["updated_at", "2021-03-10 20:07:12.903239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:12.925219"], ["updated_at", "2021-03-10 20:07:12.925219"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:12.930185"], ["updated_at", "2021-03-10 20:07:12.930185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:12.933778"], ["updated_at", "2021-03-10 20:07:12.933778"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:13.094493"], ["updated_at", "2021-03-10 20:07:13.094493"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:13.099483"], ["updated_at", "2021-03-10 20:07:13.099483"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:13.102651"], ["updated_at", "2021-03-10 20:07:13.102651"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:07:13.105681"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:13.122094"], ["updated_at", "2021-03-10 20:07:13.122094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:13.126892"], ["updated_at", "2021-03-10 20:07:13.126892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:13.129124"], ["updated_at", "2021-03-10 20:07:13.129124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:07:13.156084"], ["updated_at", "2021-03-10 20:07:13.156084"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:07:13.171917"], ["updated_at", "2021-03-10 20:07:13.171917"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:13.213627"], ["updated_at", "2021-03-10 20:07:13.213627"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:13.218473"], ["updated_at", "2021-03-10 20:07:13.218473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:13.220223"], ["updated_at", "2021-03-10 20:07:13.220223"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:07:13.222089"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:13.246839"], ["updated_at", "2021-03-10 20:07:13.246839"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:13.252577"], ["updated_at", "2021-03-10 20:07:13.252577"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:13.256584"], ["updated_at", "2021-03-10 20:07:13.256584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:07:46.369494"], ["updated_at", "2021-03-10 20:07:46.369494"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.512333"], ["updated_at", "2021-03-10 20:07:46.512333"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.517838"], ["updated_at", "2021-03-10 20:07:46.517838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.519660"], ["updated_at", "2021-03-10 20:07:46.519660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.558168"], ["updated_at", "2021-03-10 20:07:46.558168"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.562462"], ["updated_at", "2021-03-10 20:07:46.562462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.565834"], ["updated_at", "2021-03-10 20:07:46.565834"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:07:46.585690"], ["updated_at", "2021-03-10 20:07:46.585690"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.616248"], ["updated_at", "2021-03-10 20:07:46.616248"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.624747"], ["updated_at", "2021-03-10 20:07:46.624747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.626794"], ["updated_at", "2021-03-10 20:07:46.626794"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:07:46.630718"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.697894"], ["updated_at", "2021-03-10 20:07:46.697894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.705764"], ["updated_at", "2021-03-10 20:07:46.705764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.708844"], ["updated_at", "2021-03-10 20:07:46.708844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:07:46.710298"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.723512"], ["updated_at", "2021-03-10 20:07:46.723512"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.726296"], ["updated_at", "2021-03-10 20:07:46.726296"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.730230"], ["updated_at", "2021-03-10 20:07:46.730230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.742147"], ["updated_at", "2021-03-10 20:07:46.742147"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.745590"], ["updated_at", "2021-03-10 20:07:46.745590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.747585"], ["updated_at", "2021-03-10 20:07:46.747585"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.764657"], ["updated_at", "2021-03-10 20:07:46.764657"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.766617"], ["updated_at", "2021-03-10 20:07:46.766617"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.769260"], ["updated_at", "2021-03-10 20:07:46.769260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.782733"], ["updated_at", "2021-03-10 20:07:46.782733"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.785484"], ["updated_at", "2021-03-10 20:07:46.785484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.787381"], ["updated_at", "2021-03-10 20:07:46.787381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.789463"], ["updated_at", "2021-03-10 20:07:46.789463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.790894"], ["updated_at", "2021-03-10 20:07:46.790894"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.792295"], ["updated_at", "2021-03-10 20:07:46.792295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:07:46.793307"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.816228"], ["updated_at", "2021-03-10 20:07:46.816228"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.819537"], ["updated_at", "2021-03-10 20:07:46.819537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.821604"], ["updated_at", "2021-03-10 20:07:46.821604"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.824162"], ["updated_at", "2021-03-10 20:07:46.824162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (2.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.825723"], ["updated_at", "2021-03-10 20:07:46.825723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.840815"], ["updated_at", "2021-03-10 20:07:46.840815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.852058"], ["updated_at", "2021-03-10 20:07:46.852058"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.854704"], ["updated_at", "2021-03-10 20:07:46.854704"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.856472"], ["updated_at", "2021-03-10 20:07:46.856472"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.858602"], ["updated_at", "2021-03-10 20:07:46.858602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.860083"], ["updated_at", "2021-03-10 20:07:46.860083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.862199"], ["updated_at", "2021-03-10 20:07:46.862199"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.899693"], ["updated_at", "2021-03-10 20:07:46.899693"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.907354"], ["updated_at", "2021-03-10 20:07:46.907354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.909078"], ["updated_at", "2021-03-10 20:07:46.909078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.910715"], ["updated_at", "2021-03-10 20:07:46.910715"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.913353"], ["updated_at", "2021-03-10 20:07:46.913353"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.914591"], ["updated_at", "2021-03-10 20:07:46.914591"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.927804"], ["updated_at", "2021-03-10 20:07:46.927804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.931458"], ["updated_at", "2021-03-10 20:07:46.931458"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.933901"], ["updated_at", "2021-03-10 20:07:46.933901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.935388"], ["updated_at", "2021-03-10 20:07:46.935388"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.936880"], ["updated_at", "2021-03-10 20:07:46.936880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.937999"], ["updated_at", "2021-03-10 20:07:46.937999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.952791"], ["updated_at", "2021-03-10 20:07:46.952791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.959160"], ["updated_at", "2021-03-10 20:07:46.959160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.962095"], ["updated_at", "2021-03-10 20:07:46.962095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.963759"], ["updated_at", "2021-03-10 20:07:46.963759"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:46.965248"], ["updated_at", "2021-03-10 20:07:46.965248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:46.966703"], ["updated_at", "2021-03-10 20:07:46.966703"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:07:46.968177"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:07:46.990916"], ["updated_at", "2021-03-10 20:07:46.990916"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:07:46.993591"], ["updated_at", "2021-03-10 20:07:46.993591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:07:46.996198"], ["updated_at", "2021-03-10 20:07:46.996198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:07:46.997666"], ["updated_at", "2021-03-10 20:07:46.997666"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:07:47"], ["updated_at", "2021-03-10 20:07:47"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:07:47.001910"], ["updated_at", "2021-03-10 20:07:47.001910"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.374940"], ["updated_at", "2021-03-10 20:08:15.374940"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.381749"], ["updated_at", "2021-03-10 20:08:15.381749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.385986"], ["updated_at", "2021-03-10 20:08:15.385986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.419371"], ["updated_at", "2021-03-10 20:08:15.419371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.420867"], ["updated_at", "2021-03-10 20:08:15.420867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.422057"], ["updated_at", "2021-03-10 20:08:15.422057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.435519"], ["updated_at", "2021-03-10 20:08:15.435519"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.438063"], ["updated_at", "2021-03-10 20:08:15.438063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.439635"], ["updated_at", "2021-03-10 20:08:15.439635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.441731"], ["updated_at", "2021-03-10 20:08:15.441731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.443478"], ["updated_at", "2021-03-10 20:08:15.443478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.444980"], ["updated_at", "2021-03-10 20:08:15.444980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:08:15.446117"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.458373"], ["updated_at", "2021-03-10 20:08:15.458373"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.460925"], ["updated_at", "2021-03-10 20:08:15.460925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.462518"], ["updated_at", "2021-03-10 20:08:15.462518"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.464762"], ["updated_at", "2021-03-10 20:08:15.464762"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.467191"], ["updated_at", "2021-03-10 20:08:15.467191"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.468316"], ["updated_at", "2021-03-10 20:08:15.468316"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.495400"], ["updated_at", "2021-03-10 20:08:15.495400"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.499624"], ["updated_at", "2021-03-10 20:08:15.499624"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.502382"], ["updated_at", "2021-03-10 20:08:15.502382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.504355"], ["updated_at", "2021-03-10 20:08:15.504355"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.506482"], ["updated_at", "2021-03-10 20:08:15.506482"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.508548"], ["updated_at", "2021-03-10 20:08:15.508548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.541953"], ["updated_at", "2021-03-10 20:08:15.541953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.544703"], ["updated_at", "2021-03-10 20:08:15.544703"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.546925"], ["updated_at", "2021-03-10 20:08:15.546925"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.550605"], ["updated_at", "2021-03-10 20:08:15.550605"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.552836"], ["updated_at", "2021-03-10 20:08:15.552836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.554562"], ["updated_at", "2021-03-10 20:08:15.554562"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:08:15.556006"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.572374"], ["updated_at", "2021-03-10 20:08:15.572374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.578844"], ["updated_at", "2021-03-10 20:08:15.578844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.581318"], ["updated_at", "2021-03-10 20:08:15.581318"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.584235"], ["updated_at", "2021-03-10 20:08:15.584235"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.585933"], ["updated_at", "2021-03-10 20:08:15.585933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.587621"], ["updated_at", "2021-03-10 20:08:15.587621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.618789"], ["updated_at", "2021-03-10 20:08:15.618789"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.624603"], ["updated_at", "2021-03-10 20:08:15.624603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.629313"], ["updated_at", "2021-03-10 20:08:15.629313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.630696"], ["updated_at", "2021-03-10 20:08:15.630696"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.633658"], ["updated_at", "2021-03-10 20:08:15.633658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.635130"], ["updated_at", "2021-03-10 20:08:15.635130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.648456"], ["updated_at", "2021-03-10 20:08:15.648456"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.653099"], ["updated_at", "2021-03-10 20:08:15.653099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.655031"], ["updated_at", "2021-03-10 20:08:15.655031"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:08:15.656459"], ["updated_at", "2021-03-10 20:08:15.656459"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:08:15.657898"], ["updated_at", "2021-03-10 20:08:15.657898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:08:15.659136"], ["updated_at", "2021-03-10 20:08:15.659136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.696073"], ["updated_at", "2021-03-10 20:08:15.696073"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.703784"], ["updated_at", "2021-03-10 20:08:15.703784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.706691"], ["updated_at", "2021-03-10 20:08:15.706691"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.792868"], ["updated_at", "2021-03-10 20:08:15.792868"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.797364"], ["updated_at", "2021-03-10 20:08:15.797364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.800759"], ["updated_at", "2021-03-10 20:08:15.800759"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:08:15.802640"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.829614"], ["updated_at", "2021-03-10 20:08:15.829614"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.832903"], ["updated_at", "2021-03-10 20:08:15.832903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.835462"], ["updated_at", "2021-03-10 20:08:15.835462"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (1.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:08:15.865396"], ["updated_at", "2021-03-10 20:08:15.865396"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.870956"], ["updated_at", "2021-03-10 20:08:15.870956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.875083"], ["updated_at", "2021-03-10 20:08:15.875083"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.879941"], ["updated_at", "2021-03-10 20:08:15.879941"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:08:15.883518"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:08:15.904474"], ["updated_at", "2021-03-10 20:08:15.904474"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:08:15.908377"], ["updated_at", "2021-03-10 20:08:15.908377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:08:15.910227"], ["updated_at", "2021-03-10 20:08:15.910227"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:08:15.928215"], ["updated_at", "2021-03-10 20:08:15.928215"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:23.809129"], ["updated_at", "2021-03-10 20:11:23.809129"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:23.813802"], ["updated_at", "2021-03-10 20:11:23.813802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:23.815621"], ["updated_at", "2021-03-10 20:11:23.815621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.8ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:11:23.874620"], ["updated_at", "2021-03-10 20:11:23.874620"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:11:23.885898"], ["updated_at", "2021-03-10 20:11:23.885898"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:23.927287"], ["updated_at", "2021-03-10 20:11:23.927287"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:23.932550"], ["updated_at", "2021-03-10 20:11:23.932550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:23.936629"], ["updated_at", "2021-03-10 20:11:23.936629"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:11:23.938411"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:23.953528"], ["updated_at", "2021-03-10 20:11:23.953528"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:23.957061"], ["updated_at", "2021-03-10 20:11:23.957061"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:23.960011"], ["updated_at", "2021-03-10 20:11:23.960011"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:11:23.964711"], ["id", 3]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:23.998426"], ["updated_at", "2021-03-10 20:11:23.998426"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.004161"], ["updated_at", "2021-03-10 20:11:24.004161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.007100"], ["updated_at", "2021-03-10 20:11:24.007100"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.164039"], ["updated_at", "2021-03-10 20:11:24.164039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.168753"], ["updated_at", "2021-03-10 20:11:24.168753"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.170875"], ["updated_at", "2021-03-10 20:11:24.170875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.199626"], ["updated_at", "2021-03-10 20:11:24.199626"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.204443"], ["updated_at", "2021-03-10 20:11:24.204443"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.207098"], ["updated_at", "2021-03-10 20:11:24.207098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.227223"], ["updated_at", "2021-03-10 20:11:24.227223"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.228929"], ["updated_at", "2021-03-10 20:11:24.228929"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.230213"], ["updated_at", "2021-03-10 20:11:24.230213"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.251097"], ["updated_at", "2021-03-10 20:11:24.251097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.254608"], ["updated_at", "2021-03-10 20:11:24.254608"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.256921"], ["updated_at", "2021-03-10 20:11:24.256921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.258369"], ["updated_at", "2021-03-10 20:11:24.258369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.259820"], ["updated_at", "2021-03-10 20:11:24.259820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.261013"], ["updated_at", "2021-03-10 20:11:24.261013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:11:24.261970"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.273430"], ["updated_at", "2021-03-10 20:11:24.273430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.277603"], ["updated_at", "2021-03-10 20:11:24.277603"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.282980"], ["updated_at", "2021-03-10 20:11:24.282980"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.287565"], ["updated_at", "2021-03-10 20:11:24.287565"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.289816"], ["updated_at", "2021-03-10 20:11:24.289816"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.291752"], ["updated_at", "2021-03-10 20:11:24.291752"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:11:24.293661"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.310089"], ["updated_at", "2021-03-10 20:11:24.310089"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.325034"], ["updated_at", "2021-03-10 20:11:24.325034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.326858"], ["updated_at", "2021-03-10 20:11:24.326858"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.328130"], ["updated_at", "2021-03-10 20:11:24.328130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.329441"], ["updated_at", "2021-03-10 20:11:24.329441"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.330670"], ["updated_at", "2021-03-10 20:11:24.330670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.355727"], ["updated_at", "2021-03-10 20:11:24.355727"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.358413"], ["updated_at", "2021-03-10 20:11:24.358413"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.360694"], ["updated_at", "2021-03-10 20:11:24.360694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.362039"], ["updated_at", "2021-03-10 20:11:24.362039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.363297"], ["updated_at", "2021-03-10 20:11:24.363297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.364412"], ["updated_at", "2021-03-10 20:11:24.364412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.4ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.389909"], ["updated_at", "2021-03-10 20:11:24.389909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.392655"], ["updated_at", "2021-03-10 20:11:24.392655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.394316"], ["updated_at", "2021-03-10 20:11:24.394316"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.395589"], ["updated_at", "2021-03-10 20:11:24.395589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.396889"], ["updated_at", "2021-03-10 20:11:24.396889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.398047"], ["updated_at", "2021-03-10 20:11:24.398047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.440389"], ["updated_at", "2021-03-10 20:11:24.440389"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.443305"], ["updated_at", "2021-03-10 20:11:24.443305"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.450160"], ["updated_at", "2021-03-10 20:11:24.450160"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.452135"], ["updated_at", "2021-03-10 20:11:24.452135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.453585"], ["updated_at", "2021-03-10 20:11:24.453585"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.455106"], ["updated_at", "2021-03-10 20:11:24.455106"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:11:24.475334"], ["updated_at", "2021-03-10 20:11:24.475334"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:11:24.478280"], ["updated_at", "2021-03-10 20:11:24.478280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:11:24.480457"], ["updated_at", "2021-03-10 20:11:24.480457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:11:24.481780"], ["updated_at", "2021-03-10 20:11:24.481780"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:11:24.484901"], ["updated_at", "2021-03-10 20:11:24.484901"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:11:24.486482"], ["updated_at", "2021-03-10 20:11:24.486482"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should require unique value for short_name. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:13.883349"], ["updated_at", "2021-03-10 20:15:13.883349"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:13.890221"], ["updated_at", "2021-03-10 20:15:13.890221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:13.893842"], ["updated_at", "2021-03-10 20:15:13.893842"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.8ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "cmu"], ["LIMIT", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:13.934453"], ["updated_at", "2021-03-10 20:15:13.934453"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:13.937700"], ["updated_at", "2021-03-10 20:15:13.937700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:13.939891"], ["updated_at", "2021-03-10 20:15:13.939891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.3ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:15:13.942713"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.6ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:13.955884"], ["updated_at", "2021-03-10 20:15:13.955884"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:13.959591"], ["updated_at", "2021-03-10 20:15:13.959591"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:13.965256"], ["updated_at", "2021-03-10 20:15:13.965256"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:15:13.968619"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:13.985826"], ["updated_at", "2021-03-10 20:15:13.985826"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:13.988797"], ["updated_at", "2021-03-10 20:15:13.988797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:13.990471"], ["updated_at", "2021-03-10 20:15:13.990471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.176865"], ["updated_at", "2021-03-10 20:15:14.176865"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.187037"], ["updated_at", "2021-03-10 20:15:14.187037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.189500"], ["updated_at", "2021-03-10 20:15:14.189500"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.249921"], ["updated_at", "2021-03-10 20:15:14.249921"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.256025"], ["updated_at", "2021-03-10 20:15:14.256025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.259310"], ["updated_at", "2021-03-10 20:15:14.259310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.7ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (2.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.280093"], ["updated_at", "2021-03-10 20:15:14.280093"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.285551"], ["updated_at", "2021-03-10 20:15:14.285551"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.287557"], ["updated_at", "2021-03-10 20:15:14.287557"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.305090"], ["updated_at", "2021-03-10 20:15:14.305090"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.307869"], ["updated_at", "2021-03-10 20:15:14.307869"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.309593"], ["updated_at", "2021-03-10 20:15:14.309593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.324267"], ["updated_at", "2021-03-10 20:15:14.324267"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.328345"], ["updated_at", "2021-03-10 20:15:14.328345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.329930"], ["updated_at", "2021-03-10 20:15:14.329930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.342740"], ["updated_at", "2021-03-10 20:15:14.342740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.345456"], ["updated_at", "2021-03-10 20:15:14.345456"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.348198"], ["updated_at", "2021-03-10 20:15:14.348198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.350667"], ["updated_at", "2021-03-10 20:15:14.350667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.352995"], ["updated_at", "2021-03-10 20:15:14.352995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.354906"], ["updated_at", "2021-03-10 20:15:14.354906"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:15:14.356651"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (1.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.381336"], ["updated_at", "2021-03-10 20:15:14.381336"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.385275"], ["updated_at", "2021-03-10 20:15:14.385275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.387878"], ["updated_at", "2021-03-10 20:15:14.387878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.389134"], ["updated_at", "2021-03-10 20:15:14.389134"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.390538"], ["updated_at", "2021-03-10 20:15:14.390538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.391725"], ["updated_at", "2021-03-10 20:15:14.391725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.446414"], ["updated_at", "2021-03-10 20:15:14.446414"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.452419"], ["updated_at", "2021-03-10 20:15:14.452419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.454395"], ["updated_at", "2021-03-10 20:15:14.454395"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.456107"], ["updated_at", "2021-03-10 20:15:14.456107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.458414"], ["updated_at", "2021-03-10 20:15:14.458414"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.461118"], ["updated_at", "2021-03-10 20:15:14.461118"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.477182"], ["updated_at", "2021-03-10 20:15:14.477182"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.480463"], ["updated_at", "2021-03-10 20:15:14.480463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.482083"], ["updated_at", "2021-03-10 20:15:14.482083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.484081"], ["updated_at", "2021-03-10 20:15:14.484081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.485569"], ["updated_at", "2021-03-10 20:15:14.485569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.487051"], ["updated_at", "2021-03-10 20:15:14.487051"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:15:14.488469"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.502203"], ["updated_at", "2021-03-10 20:15:14.502203"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.504764"], ["updated_at", "2021-03-10 20:15:14.504764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.507181"], ["updated_at", "2021-03-10 20:15:14.507181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.508565"], ["updated_at", "2021-03-10 20:15:14.508565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.509871"], ["updated_at", "2021-03-10 20:15:14.509871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.511022"], ["updated_at", "2021-03-10 20:15:14.511022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.529722"], ["updated_at", "2021-03-10 20:15:14.529722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.533218"], ["updated_at", "2021-03-10 20:15:14.533218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.535842"], ["updated_at", "2021-03-10 20:15:14.535842"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.537213"], ["updated_at", "2021-03-10 20:15:14.537213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.539145"], ["updated_at", "2021-03-10 20:15:14.539145"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.540933"], ["updated_at", "2021-03-10 20:15:14.540933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:14.556126"], ["updated_at", "2021-03-10 20:15:14.556126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:14.558823"], ["updated_at", "2021-03-10 20:15:14.558823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:14.560352"], ["updated_at", "2021-03-10 20:15:14.560352"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:14.562541"], ["updated_at", "2021-03-10 20:15:14.562541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:14.563935"], ["updated_at", "2021-03-10 20:15:14.563935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:14.565127"], ["updated_at", "2021-03-10 20:15:14.565127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.674721"], ["updated_at", "2021-03-10 20:15:43.674721"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.682931"], ["updated_at", "2021-03-10 20:15:43.682931"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.686002"], ["updated_at", "2021-03-10 20:15:43.686002"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.717461"], ["updated_at", "2021-03-10 20:15:43.717461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.719525"], ["updated_at", "2021-03-10 20:15:43.719525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.720850"], ["updated_at", "2021-03-10 20:15:43.720850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.732307"], ["updated_at", "2021-03-10 20:15:43.732307"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.734957"], ["updated_at", "2021-03-10 20:15:43.734957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.736838"], ["updated_at", "2021-03-10 20:15:43.736838"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.738825"], ["updated_at", "2021-03-10 20:15:43.738825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.740428"], ["updated_at", "2021-03-10 20:15:43.740428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.741816"], ["updated_at", "2021-03-10 20:15:43.741816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:15:43.742832"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.757873"], ["updated_at", "2021-03-10 20:15:43.757873"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.760481"], ["updated_at", "2021-03-10 20:15:43.760481"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.761975"], ["updated_at", "2021-03-10 20:15:43.761975"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.765260"], ["updated_at", "2021-03-10 20:15:43.765260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.766964"], ["updated_at", "2021-03-10 20:15:43.766964"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.768403"], ["updated_at", "2021-03-10 20:15:43.768403"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.778829"], ["updated_at", "2021-03-10 20:15:43.778829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.781838"], ["updated_at", "2021-03-10 20:15:43.781838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.784366"], ["updated_at", "2021-03-10 20:15:43.784366"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.786598"], ["updated_at", "2021-03-10 20:15:43.786598"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.788831"], ["updated_at", "2021-03-10 20:15:43.788831"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.792486"], ["updated_at", "2021-03-10 20:15:43.792486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.811825"], ["updated_at", "2021-03-10 20:15:43.811825"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.816679"], ["updated_at", "2021-03-10 20:15:43.816679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.818320"], ["updated_at", "2021-03-10 20:15:43.818320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.819653"], ["updated_at", "2021-03-10 20:15:43.819653"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.820906"], ["updated_at", "2021-03-10 20:15:43.820906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.822015"], ["updated_at", "2021-03-10 20:15:43.822015"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.872317"], ["updated_at", "2021-03-10 20:15:43.872317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.877396"], ["updated_at", "2021-03-10 20:15:43.877396"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.878990"], ["updated_at", "2021-03-10 20:15:43.878990"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.880758"], ["updated_at", "2021-03-10 20:15:43.880758"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.882515"], ["updated_at", "2021-03-10 20:15:43.882515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.883991"], ["updated_at", "2021-03-10 20:15:43.883991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:15:43.885279"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.909944"], ["updated_at", "2021-03-10 20:15:43.909944"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.913851"], ["updated_at", "2021-03-10 20:15:43.913851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.915930"], ["updated_at", "2021-03-10 20:15:43.915930"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.917612"], ["updated_at", "2021-03-10 20:15:43.917612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.919399"], ["updated_at", "2021-03-10 20:15:43.919399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.922675"], ["updated_at", "2021-03-10 20:15:43.922675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.936540"], ["updated_at", "2021-03-10 20:15:43.936540"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.943135"], ["updated_at", "2021-03-10 20:15:43.943135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.945866"], ["updated_at", "2021-03-10 20:15:43.945866"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:15:43.948535"], ["updated_at", "2021-03-10 20:15:43.948535"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:15:43.950479"], ["updated_at", "2021-03-10 20:15:43.950479"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:15:43.951821"], ["updated_at", "2021-03-10 20:15:43.951821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:43.983474"], ["updated_at", "2021-03-10 20:15:43.983474"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:43.987105"], ["updated_at", "2021-03-10 20:15:43.987105"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:43.990805"], ["updated_at", "2021-03-10 20:15:43.990805"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:44.004270"], ["updated_at", "2021-03-10 20:15:44.004270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:44.010733"], ["updated_at", "2021-03-10 20:15:44.010733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:44.012652"], ["updated_at", "2021-03-10 20:15:44.012652"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:15:44.016016"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:15:44.037570"], ["updated_at", "2021-03-10 20:15:44.037570"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:44.040584"], ["updated_at", "2021-03-10 20:15:44.040584"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:44.043260"], ["updated_at", "2021-03-10 20:15:44.043260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:44.045014"], ["updated_at", "2021-03-10 20:15:44.045014"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (2.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:44.099416"], ["updated_at", "2021-03-10 20:15:44.099416"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:44.104972"], ["updated_at", "2021-03-10 20:15:44.104972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:44.108359"], ["updated_at", "2021-03-10 20:15:44.108359"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:15:44.116047"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.9ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:15:44.174886"], ["updated_at", "2021-03-10 20:15:44.174886"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:15:44.184538"], ["updated_at", "2021-03-10 20:15:44.184538"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:15:44.189117"], ["updated_at", "2021-03-10 20:15:44.189117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:15:44.190992"], ["updated_at", "2021-03-10 20:15:44.190992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.394852"], ["updated_at", "2021-03-10 20:16:59.394852"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.402099"], ["updated_at", "2021-03-10 20:16:59.402099"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.405641"], ["updated_at", "2021-03-10 20:16:59.405641"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.407547"], ["updated_at", "2021-03-10 20:16:59.407547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.409233"], ["updated_at", "2021-03-10 20:16:59.409233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.410749"], ["updated_at", "2021-03-10 20:16:59.410749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:16:59.430844"], ["updated_at", "2021-03-10 20:16:59.430844"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.449706"], ["updated_at", "2021-03-10 20:16:59.449706"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.454915"], ["updated_at", "2021-03-10 20:16:59.454915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.456953"], ["updated_at", "2021-03-10 20:16:59.456953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.459010"], ["updated_at", "2021-03-10 20:16:59.459010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.461338"], ["updated_at", "2021-03-10 20:16:59.461338"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.464733"], ["updated_at", "2021-03-10 20:16:59.464733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:16:59.467351"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.478367"], ["updated_at", "2021-03-10 20:16:59.478367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.484932"], ["updated_at", "2021-03-10 20:16:59.484932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.488768"], ["updated_at", "2021-03-10 20:16:59.488768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.490667"], ["updated_at", "2021-03-10 20:16:59.490667"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.492956"], ["updated_at", "2021-03-10 20:16:59.492956"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.495546"], ["updated_at", "2021-03-10 20:16:59.495546"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.509350"], ["updated_at", "2021-03-10 20:16:59.509350"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.512205"], ["updated_at", "2021-03-10 20:16:59.512205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.514688"], ["updated_at", "2021-03-10 20:16:59.514688"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.516909"], ["updated_at", "2021-03-10 20:16:59.516909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.518697"], ["updated_at", "2021-03-10 20:16:59.518697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.520908"], ["updated_at", "2021-03-10 20:16:59.520908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.542046"], ["updated_at", "2021-03-10 20:16:59.542046"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.546103"], ["updated_at", "2021-03-10 20:16:59.546103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.548613"], ["updated_at", "2021-03-10 20:16:59.548613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.550410"], ["updated_at", "2021-03-10 20:16:59.550410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.552216"], ["updated_at", "2021-03-10 20:16:59.552216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.554647"], ["updated_at", "2021-03-10 20:16:59.554647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.569859"], ["updated_at", "2021-03-10 20:16:59.569859"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.574621"], ["updated_at", "2021-03-10 20:16:59.574621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.576960"], ["updated_at", "2021-03-10 20:16:59.576960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.578762"], ["updated_at", "2021-03-10 20:16:59.578762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.580508"], ["updated_at", "2021-03-10 20:16:59.580508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.582071"], ["updated_at", "2021-03-10 20:16:59.582071"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.625821"], ["updated_at", "2021-03-10 20:16:59.625821"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.634507"], ["updated_at", "2021-03-10 20:16:59.634507"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.638426"], ["updated_at", "2021-03-10 20:16:59.638426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.640728"], ["updated_at", "2021-03-10 20:16:59.640728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.643849"], ["updated_at", "2021-03-10 20:16:59.643849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.646808"], ["updated_at", "2021-03-10 20:16:59.646808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:16:59.651124"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.7ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.662287"], ["updated_at", "2021-03-10 20:16:59.662287"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.665399"], ["updated_at", "2021-03-10 20:16:59.665399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.668422"], ["updated_at", "2021-03-10 20:16:59.668422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:16:59.671165"], ["updated_at", "2021-03-10 20:16:59.671165"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:16:59.673338"], ["updated_at", "2021-03-10 20:16:59.673338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:16:59.675493"], ["updated_at", "2021-03-10 20:16:59.675493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.693701"], ["updated_at", "2021-03-10 20:16:59.693701"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.697418"], ["updated_at", "2021-03-10 20:16:59.697418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.699545"], ["updated_at", "2021-03-10 20:16:59.699545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.718590"], ["updated_at", "2021-03-10 20:16:59.718590"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.723912"], ["updated_at", "2021-03-10 20:16:59.723912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.726444"], ["updated_at", "2021-03-10 20:16:59.726444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.783735"], ["updated_at", "2021-03-10 20:16:59.783735"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.791490"], ["updated_at", "2021-03-10 20:16:59.791490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.794791"], ["updated_at", "2021-03-10 20:16:59.794791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:16:59.949155"], ["updated_at", "2021-03-10 20:16:59.949155"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.961044"], ["updated_at", "2021-03-10 20:16:59.961044"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:16:59.965511"], ["updated_at", "2021-03-10 20:16:59.965511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:16:59.967429"], ["updated_at", "2021-03-10 20:16:59.967429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.3ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:16:59.969208"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:16:59.999675"], ["updated_at", "2021-03-10 20:16:59.999675"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:17:00.005463"], ["updated_at", "2021-03-10 20:17:00.005463"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:17:00.011733"], ["updated_at", "2021-03-10 20:17:00.011733"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:17:00.014841"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.8ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:17:00.051623"], ["updated_at", "2021-03-10 20:17:00.051623"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.015330"], ["updated_at", "2021-03-10 20:46:54.015330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.022640"], ["updated_at", "2021-03-10 20:46:54.022640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.026533"], ["updated_at", "2021-03-10 20:46:54.026533"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.055592"], ["updated_at", "2021-03-10 20:46:54.055592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.057390"], ["updated_at", "2021-03-10 20:46:54.057390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.058898"], ["updated_at", "2021-03-10 20:46:54.058898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.070777"], ["updated_at", "2021-03-10 20:46:54.070777"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.073673"], ["updated_at", "2021-03-10 20:46:54.073673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.076461"], ["updated_at", "2021-03-10 20:46:54.076461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.078372"], ["updated_at", "2021-03-10 20:46:54.078372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.080959"], ["updated_at", "2021-03-10 20:46:54.080959"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.082666"], ["updated_at", "2021-03-10 20:46:54.082666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.103909"], ["updated_at", "2021-03-10 20:46:54.103909"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.108710"], ["updated_at", "2021-03-10 20:46:54.108710"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.111781"], ["updated_at", "2021-03-10 20:46:54.111781"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.114447"], ["updated_at", "2021-03-10 20:46:54.114447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.119016"], ["updated_at", "2021-03-10 20:46:54.119016"]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.123668"], ["updated_at", "2021-03-10 20:46:54.123668"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:46:54.125426"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.180239"], ["updated_at", "2021-03-10 20:46:54.180239"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.186025"], ["updated_at", "2021-03-10 20:46:54.186025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.187999"], ["updated_at", "2021-03-10 20:46:54.187999"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.190496"], ["updated_at", "2021-03-10 20:46:54.190496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.192548"], ["updated_at", "2021-03-10 20:46:54.192548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.194726"], ["updated_at", "2021-03-10 20:46:54.194726"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.210649"], ["updated_at", "2021-03-10 20:46:54.210649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.213649"], ["updated_at", "2021-03-10 20:46:54.213649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.216455"], ["updated_at", "2021-03-10 20:46:54.216455"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.218432"], ["updated_at", "2021-03-10 20:46:54.218432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.220399"], ["updated_at", "2021-03-10 20:46:54.220399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.222442"], ["updated_at", "2021-03-10 20:46:54.222442"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (14.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.249222"], ["updated_at", "2021-03-10 20:46:54.249222"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.252387"], ["updated_at", "2021-03-10 20:46:54.252387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.254378"], ["updated_at", "2021-03-10 20:46:54.254378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.256849"], ["updated_at", "2021-03-10 20:46:54.256849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.259048"], ["updated_at", "2021-03-10 20:46:54.259048"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.261329"], ["updated_at", "2021-03-10 20:46:54.261329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:46:54.279397"], ["updated_at", "2021-03-10 20:46:54.279397"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.286044"], ["updated_at", "2021-03-10 20:46:54.286044"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.291165"], ["updated_at", "2021-03-10 20:46:54.291165"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.294608"], ["updated_at", "2021-03-10 20:46:54.294608"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.297447"], ["updated_at", "2021-03-10 20:46:54.297447"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.300602"], ["updated_at", "2021-03-10 20:46:54.300602"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.304167"], ["updated_at", "2021-03-10 20:46:54.304167"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.326772"], ["updated_at", "2021-03-10 20:46:54.326772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.330093"], ["updated_at", "2021-03-10 20:46:54.330093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.332037"], ["updated_at", "2021-03-10 20:46:54.332037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:46:54.333722"], ["updated_at", "2021-03-10 20:46:54.333722"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:46:54.335573"], ["updated_at", "2021-03-10 20:46:54.335573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:46:54.337181"], ["updated_at", "2021-03-10 20:46:54.337181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:46:54.340133"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (11.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:46:54.367075"], ["updated_at", "2021-03-10 20:46:54.367075"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.375874"], ["updated_at", "2021-03-10 20:46:54.375874"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.379763"], ["updated_at", "2021-03-10 20:46:54.379763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.386616"], ["updated_at", "2021-03-10 20:46:54.386616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:46:54.390706"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.601728"], ["updated_at", "2021-03-10 20:46:54.601728"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.608957"], ["updated_at", "2021-03-10 20:46:54.608957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.610926"], ["updated_at", "2021-03-10 20:46:54.610926"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.625152"], ["updated_at", "2021-03-10 20:46:54.625152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.628052"], ["updated_at", "2021-03-10 20:46:54.628052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.630402"], ["updated_at", "2021-03-10 20:46:54.630402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:46:54.649759"], ["updated_at", "2021-03-10 20:46:54.649759"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.654209"], ["updated_at", "2021-03-10 20:46:54.654209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.659060"], ["updated_at", "2021-03-10 20:46:54.659060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.661931"], ["updated_at", "2021-03-10 20:46:54.661931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:46:54.676477"], ["updated_at", "2021-03-10 20:46:54.676477"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:46:54.680359"], ["updated_at", "2021-03-10 20:46:54.680359"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:46:54.685768"], ["updated_at", "2021-03-10 20:46:54.685768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:46:54.687786"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.516879"], ["updated_at", "2021-03-10 20:52:39.516879"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.524946"], ["updated_at", "2021-03-10 20:52:39.524946"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.529039"], ["updated_at", "2021-03-10 20:52:39.529039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.560457"], ["updated_at", "2021-03-10 20:52:39.560457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.562379"], ["updated_at", "2021-03-10 20:52:39.562379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.563943"], ["updated_at", "2021-03-10 20:52:39.563943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:52:39.565358"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.585365"], ["updated_at", "2021-03-10 20:52:39.585365"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.590722"], ["updated_at", "2021-03-10 20:52:39.590722"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.595401"], ["updated_at", "2021-03-10 20:52:39.595401"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.598481"], ["updated_at", "2021-03-10 20:52:39.598481"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.601851"], ["updated_at", "2021-03-10 20:52:39.601851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.603536"], ["updated_at", "2021-03-10 20:52:39.603536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:52:39.605290"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.620716"], ["updated_at", "2021-03-10 20:52:39.620716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.624080"], ["updated_at", "2021-03-10 20:52:39.624080"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.627086"], ["updated_at", "2021-03-10 20:52:39.627086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.628855"], ["updated_at", "2021-03-10 20:52:39.628855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.630525"], ["updated_at", "2021-03-10 20:52:39.630525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.632008"], ["updated_at", "2021-03-10 20:52:39.632008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.649802"], ["updated_at", "2021-03-10 20:52:39.649802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.654216"], ["updated_at", "2021-03-10 20:52:39.654216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.656176"], ["updated_at", "2021-03-10 20:52:39.656176"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.657832"], ["updated_at", "2021-03-10 20:52:39.657832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.659478"], ["updated_at", "2021-03-10 20:52:39.659478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.660968"], ["updated_at", "2021-03-10 20:52:39.660968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.672582"], ["updated_at", "2021-03-10 20:52:39.672582"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.679925"], ["updated_at", "2021-03-10 20:52:39.679925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.682041"], ["updated_at", "2021-03-10 20:52:39.682041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.685417"], ["updated_at", "2021-03-10 20:52:39.685417"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.687317"], ["updated_at", "2021-03-10 20:52:39.687317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.689395"], ["updated_at", "2021-03-10 20:52:39.689395"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.713473"], ["updated_at", "2021-03-10 20:52:39.713473"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.717328"], ["updated_at", "2021-03-10 20:52:39.717328"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.720754"], ["updated_at", "2021-03-10 20:52:39.720754"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.723561"], ["updated_at", "2021-03-10 20:52:39.723561"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.726633"], ["updated_at", "2021-03-10 20:52:39.726633"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.731461"], ["updated_at", "2021-03-10 20:52:39.731461"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.769515"], ["updated_at", "2021-03-10 20:52:39.769515"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.776495"], ["updated_at", "2021-03-10 20:52:39.776495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.780746"], ["updated_at", "2021-03-10 20:52:39.780746"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.782513"], ["updated_at", "2021-03-10 20:52:39.782513"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.786257"], ["updated_at", "2021-03-10 20:52:39.786257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.788153"], ["updated_at", "2021-03-10 20:52:39.788153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:39.802853"], ["updated_at", "2021-03-10 20:52:39.802853"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:39.806809"], ["updated_at", "2021-03-10 20:52:39.806809"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:39.808973"], ["updated_at", "2021-03-10 20:52:39.808973"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 20:52:39.810766"], ["updated_at", "2021-03-10 20:52:39.810766"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 20:52:39.812592"], ["updated_at", "2021-03-10 20:52:39.812592"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 20:52:39.814179"], ["updated_at", "2021-03-10 20:52:39.814179"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:52:39.855522"], ["updated_at", "2021-03-10 20:52:39.855522"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 20:52:40.056357"], ["updated_at", "2021-03-10 20:52:40.056357"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:40.064430"], ["updated_at", "2021-03-10 20:52:40.064430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:40.069790"], ["updated_at", "2021-03-10 20:52:40.069790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:40.072204"], ["updated_at", "2021-03-10 20:52:40.072204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 20:52:40.075583"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:40.093514"], ["updated_at", "2021-03-10 20:52:40.093514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:40.098812"], ["updated_at", "2021-03-10 20:52:40.098812"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:40.102487"], ["updated_at", "2021-03-10 20:52:40.102487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:40.115185"], ["updated_at", "2021-03-10 20:52:40.115185"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:40.119767"], ["updated_at", "2021-03-10 20:52:40.119767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:40.122088"], ["updated_at", "2021-03-10 20:52:40.122088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 20:52:40.134369"], ["updated_at", "2021-03-10 20:52:40.134369"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:40.165465"], ["updated_at", "2021-03-10 20:52:40.165465"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:40.170573"], ["updated_at", "2021-03-10 20:52:40.170573"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:40.173148"], ["updated_at", "2021-03-10 20:52:40.173148"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 20:52:40.175772"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 20:52:40.208935"], ["updated_at", "2021-03-10 20:52:40.208935"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 20:52:40.217854"], ["updated_at", "2021-03-10 20:52:40.217854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 20:52:40.220094"], ["updated_at", "2021-03-10 20:52:40.220094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (2.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:11:55.368954"], ["updated_at", "2021-03-10 21:11:55.368954"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.393019"], ["updated_at", "2021-03-10 21:11:55.393019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.398674"], ["updated_at", "2021-03-10 21:11:55.398674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.400819"], ["updated_at", "2021-03-10 21:11:55.400819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.421143"], ["updated_at", "2021-03-10 21:11:55.421143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.425552"], ["updated_at", "2021-03-10 21:11:55.425552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.428170"], ["updated_at", "2021-03-10 21:11:55.428170"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:11:55.432665"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.484845"], ["updated_at", "2021-03-10 21:11:55.484845"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.490187"], ["updated_at", "2021-03-10 21:11:55.490187"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.492691"], ["updated_at", "2021-03-10 21:11:55.492691"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:11:55.509888"], ["updated_at", "2021-03-10 21:11:55.509888"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.556439"], ["updated_at", "2021-03-10 21:11:55.556439"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.561646"], ["updated_at", "2021-03-10 21:11:55.561646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.564086"], ["updated_at", "2021-03-10 21:11:55.564086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:11:55.566220"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.577372"], ["updated_at", "2021-03-10 21:11:55.577372"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.585278"], ["updated_at", "2021-03-10 21:11:55.585278"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.589201"], ["updated_at", "2021-03-10 21:11:55.589201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.602392"], ["updated_at", "2021-03-10 21:11:55.602392"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.608192"], ["updated_at", "2021-03-10 21:11:55.608192"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.610342"], ["updated_at", "2021-03-10 21:11:55.610342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (12.9ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.623261"], ["updated_at", "2021-03-10 21:11:55.623261"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.639440"], ["updated_at", "2021-03-10 21:11:55.639440"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.641057"], ["updated_at", "2021-03-10 21:11:55.641057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:11:55.642378"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:11:55.652971"], ["updated_at", "2021-03-10 21:11:55.652971"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.663001"], ["updated_at", "2021-03-10 21:11:55.663001"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.668356"], ["updated_at", "2021-03-10 21:11:55.668356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.670306"], ["updated_at", "2021-03-10 21:11:55.670306"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.673054"], ["updated_at", "2021-03-10 21:11:55.673054"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.675525"], ["updated_at", "2021-03-10 21:11:55.675525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.678087"], ["updated_at", "2021-03-10 21:11:55.678087"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:11:55.680512"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.694346"], ["updated_at", "2021-03-10 21:11:55.694346"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.697169"], ["updated_at", "2021-03-10 21:11:55.697169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.699782"], ["updated_at", "2021-03-10 21:11:55.699782"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.701711"], ["updated_at", "2021-03-10 21:11:55.701711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.703454"], ["updated_at", "2021-03-10 21:11:55.703454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.705700"], ["updated_at", "2021-03-10 21:11:55.705700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.725434"], ["updated_at", "2021-03-10 21:11:55.725434"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.728801"], ["updated_at", "2021-03-10 21:11:55.728801"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.730550"], ["updated_at", "2021-03-10 21:11:55.730550"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.732156"], ["updated_at", "2021-03-10 21:11:55.732156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.733853"], ["updated_at", "2021-03-10 21:11:55.733853"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.735317"], ["updated_at", "2021-03-10 21:11:55.735317"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.761740"], ["updated_at", "2021-03-10 21:11:55.761740"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.765126"], ["updated_at", "2021-03-10 21:11:55.765126"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.768157"], ["updated_at", "2021-03-10 21:11:55.768157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.769890"], ["updated_at", "2021-03-10 21:11:55.769890"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.772259"], ["updated_at", "2021-03-10 21:11:55.772259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.774085"], ["updated_at", "2021-03-10 21:11:55.774085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.795432"], ["updated_at", "2021-03-10 21:11:55.795432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.798172"], ["updated_at", "2021-03-10 21:11:55.798172"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.800957"], ["updated_at", "2021-03-10 21:11:55.800957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.802598"], ["updated_at", "2021-03-10 21:11:55.802598"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.805032"], ["updated_at", "2021-03-10 21:11:55.805032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.806787"], ["updated_at", "2021-03-10 21:11:55.806787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.832344"], ["updated_at", "2021-03-10 21:11:55.832344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.835152"], ["updated_at", "2021-03-10 21:11:55.835152"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.838437"], ["updated_at", "2021-03-10 21:11:55.838437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.840367"], ["updated_at", "2021-03-10 21:11:55.840367"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.842517"], ["updated_at", "2021-03-10 21:11:55.842517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.845063"], ["updated_at", "2021-03-10 21:11:55.845063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.5ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:11:55.860932"], ["updated_at", "2021-03-10 21:11:55.860932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:11:55.866658"], ["updated_at", "2021-03-10 21:11:55.866658"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:11:55.873329"], ["updated_at", "2021-03-10 21:11:55.873329"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:11:55.876019"], ["updated_at", "2021-03-10 21:11:55.876019"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:11:55.878666"], ["updated_at", "2021-03-10 21:11:55.878666"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:11:55.881234"], ["updated_at", "2021-03-10 21:11:55.881234"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (1.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:21:38.421425"], ["updated_at", "2021-03-10 21:21:38.421425"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.461536"], ["updated_at", "2021-03-10 21:21:38.461536"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.468300"], ["updated_at", "2021-03-10 21:21:38.468300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.472115"], ["updated_at", "2021-03-10 21:21:38.472115"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.474717"], ["updated_at", "2021-03-10 21:21:38.474717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.478150"], ["updated_at", "2021-03-10 21:21:38.478150"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.481866"], ["updated_at", "2021-03-10 21:21:38.481866"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.502036"], ["updated_at", "2021-03-10 21:21:38.502036"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.505275"], ["updated_at", "2021-03-10 21:21:38.505275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.508326"], ["updated_at", "2021-03-10 21:21:38.508326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.510115"], ["updated_at", "2021-03-10 21:21:38.510115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.511904"], ["updated_at", "2021-03-10 21:21:38.511904"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.513446"], ["updated_at", "2021-03-10 21:21:38.513446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.527906"], ["updated_at", "2021-03-10 21:21:38.527906"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.534039"], ["updated_at", "2021-03-10 21:21:38.534039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.537598"], ["updated_at", "2021-03-10 21:21:38.537598"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.539234"], ["updated_at", "2021-03-10 21:21:38.539234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.540861"], ["updated_at", "2021-03-10 21:21:38.540861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.542346"], ["updated_at", "2021-03-10 21:21:38.542346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.552987"], ["updated_at", "2021-03-10 21:21:38.552987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.556438"], ["updated_at", "2021-03-10 21:21:38.556438"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.560031"], ["updated_at", "2021-03-10 21:21:38.560031"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.565509"], ["updated_at", "2021-03-10 21:21:38.565509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.567773"], ["updated_at", "2021-03-10 21:21:38.567773"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.571170"], ["updated_at", "2021-03-10 21:21:38.571170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:21:38.572806"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.586948"], ["updated_at", "2021-03-10 21:21:38.586948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.590919"], ["updated_at", "2021-03-10 21:21:38.590919"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.593065"], ["updated_at", "2021-03-10 21:21:38.593065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.594836"], ["updated_at", "2021-03-10 21:21:38.594836"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.596654"], ["updated_at", "2021-03-10 21:21:38.596654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.598318"], ["updated_at", "2021-03-10 21:21:38.598318"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.611702"], ["updated_at", "2021-03-10 21:21:38.611702"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.617376"], ["updated_at", "2021-03-10 21:21:38.617376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.621177"], ["updated_at", "2021-03-10 21:21:38.621177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.623175"], ["updated_at", "2021-03-10 21:21:38.623175"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.625326"], ["updated_at", "2021-03-10 21:21:38.625326"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.628997"], ["updated_at", "2021-03-10 21:21:38.628997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.645422"], ["updated_at", "2021-03-10 21:21:38.645422"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.648616"], ["updated_at", "2021-03-10 21:21:38.648616"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.651830"], ["updated_at", "2021-03-10 21:21:38.651830"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.653962"], ["updated_at", "2021-03-10 21:21:38.653962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.655789"], ["updated_at", "2021-03-10 21:21:38.655789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.657457"], ["updated_at", "2021-03-10 21:21:38.657457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.690598"], ["updated_at", "2021-03-10 21:21:38.690598"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.697467"], ["updated_at", "2021-03-10 21:21:38.697467"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.700985"], ["updated_at", "2021-03-10 21:21:38.700985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:21:38.704644"], ["updated_at", "2021-03-10 21:21:38.704644"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:21:38.706716"], ["updated_at", "2021-03-10 21:21:38.706716"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:21:38.708923"], ["updated_at", "2021-03-10 21:21:38.708923"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.3ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:21:38.711768"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------
OrganizationTest: test_0001_anonymous
-------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:21:38.940805"], ["updated_at", "2021-03-10 21:21:38.940805"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.944831"], ["updated_at", "2021-03-10 21:21:38.944831"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.956250"], ["updated_at", "2021-03-10 21:21:38.956250"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.958978"], ["updated_at", "2021-03-10 21:21:38.958978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:21:38.961895"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:38.983277"], ["updated_at", "2021-03-10 21:21:38.983277"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:38.989225"], ["updated_at", "2021-03-10 21:21:38.989225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:38.991340"], ["updated_at", "2021-03-10 21:21:38.991340"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:39.006387"], ["updated_at", "2021-03-10 21:21:39.006387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:39.009937"], ["updated_at", "2021-03-10 21:21:39.009937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:39.014552"], ["updated_at", "2021-03-10 21:21:39.014552"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:21:39.016939"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:39.048382"], ["updated_at", "2021-03-10 21:21:39.048382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:39.053025"], ["updated_at", "2021-03-10 21:21:39.053025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:39.055425"], ["updated_at", "2021-03-10 21:21:39.055425"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:21:39.082446"], ["updated_at", "2021-03-10 21:21:39.082446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:21:39.085733"], ["updated_at", "2021-03-10 21:21:39.085733"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:21:39.088948"], ["updated_at", "2021-03-10 21:21:39.088948"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:29.938088"], ["updated_at", "2021-03-10 21:26:29.938088"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:29.945798"], ["updated_at", "2021-03-10 21:26:29.945798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:29.949926"], ["updated_at", "2021-03-10 21:26:29.949926"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:26:29.952366"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:26:30.182127"], ["updated_at", "2021-03-10 21:26:30.182127"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.190504"], ["updated_at", "2021-03-10 21:26:30.190504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.196073"], ["updated_at", "2021-03-10 21:26:30.196073"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.198520"], ["updated_at", "2021-03-10 21:26:30.198520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.4ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.219010"], ["updated_at", "2021-03-10 21:26:30.219010"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.222990"], ["updated_at", "2021-03-10 21:26:30.222990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.225216"], ["updated_at", "2021-03-10 21:26:30.225216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:26:30.228598"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.248415"], ["updated_at", "2021-03-10 21:26:30.248415"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.251768"], ["updated_at", "2021-03-10 21:26:30.251768"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.253934"], ["updated_at", "2021-03-10 21:26:30.253934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.313091"], ["updated_at", "2021-03-10 21:26:30.313091"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.321313"], ["updated_at", "2021-03-10 21:26:30.321313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.325504"], ["updated_at", "2021-03-10 21:26:30.325504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:26:30.359955"], ["updated_at", "2021-03-10 21:26:30.359955"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.7ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.7ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:26:30.406204"], ["updated_at", "2021-03-10 21:26:30.406204"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.416979"], ["updated_at", "2021-03-10 21:26:30.416979"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.424979"], ["updated_at", "2021-03-10 21:26:30.424979"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.446613"], ["updated_at", "2021-03-10 21:26:30.446613"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.449194"], ["updated_at", "2021-03-10 21:26:30.449194"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.451046"], ["updated_at", "2021-03-10 21:26:30.451046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.452592"], ["updated_at", "2021-03-10 21:26:30.452592"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (12.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.475767"], ["updated_at", "2021-03-10 21:26:30.475767"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.487035"], ["updated_at", "2021-03-10 21:26:30.487035"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.494741"], ["updated_at", "2021-03-10 21:26:30.494741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.505452"], ["updated_at", "2021-03-10 21:26:30.505452"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.510670"], ["updated_at", "2021-03-10 21:26:30.510670"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.513841"], ["updated_at", "2021-03-10 21:26:30.513841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.527891"], ["updated_at", "2021-03-10 21:26:30.527891"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.534782"], ["updated_at", "2021-03-10 21:26:30.534782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.537803"], ["updated_at", "2021-03-10 21:26:30.537803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.540660"], ["updated_at", "2021-03-10 21:26:30.540660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.544920"], ["updated_at", "2021-03-10 21:26:30.544920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.548655"], ["updated_at", "2021-03-10 21:26:30.548655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.573803"], ["updated_at", "2021-03-10 21:26:30.573803"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.578685"], ["updated_at", "2021-03-10 21:26:30.578685"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.582130"], ["updated_at", "2021-03-10 21:26:30.582130"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (1.0ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.584933"], ["updated_at", "2021-03-10 21:26:30.584933"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.590162"], ["updated_at", "2021-03-10 21:26:30.590162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.594849"], ["updated_at", "2021-03-10 21:26:30.594849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:26:30.596513"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.635220"], ["updated_at", "2021-03-10 21:26:30.635220"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.645569"], ["updated_at", "2021-03-10 21:26:30.645569"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.648586"], ["updated_at", "2021-03-10 21:26:30.648586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.650660"], ["updated_at", "2021-03-10 21:26:30.650660"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.654143"], ["updated_at", "2021-03-10 21:26:30.654143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.658903"], ["updated_at", "2021-03-10 21:26:30.658903"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.679900"], ["updated_at", "2021-03-10 21:26:30.679900"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.684308"], ["updated_at", "2021-03-10 21:26:30.684308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.686142"], ["updated_at", "2021-03-10 21:26:30.686142"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.687868"], ["updated_at", "2021-03-10 21:26:30.687868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.689522"], ["updated_at", "2021-03-10 21:26:30.689522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.690961"], ["updated_at", "2021-03-10 21:26:30.690961"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.720221"], ["updated_at", "2021-03-10 21:26:30.720221"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.723658"], ["updated_at", "2021-03-10 21:26:30.723658"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.729060"], ["updated_at", "2021-03-10 21:26:30.729060"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.730817"], ["updated_at", "2021-03-10 21:26:30.730817"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.733341"], ["updated_at", "2021-03-10 21:26:30.733341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.9ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.735889"], ["updated_at", "2021-03-10 21:26:30.735889"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:26:30.741764"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:26:30.760460"], ["updated_at", "2021-03-10 21:26:30.760460"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:26:30.764271"], ["updated_at", "2021-03-10 21:26:30.764271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:26:30.766426"], ["updated_at", "2021-03-10 21:26:30.766426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:26:30.768114"], ["updated_at", "2021-03-10 21:26:30.768114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:26:30.770151"], ["updated_at", "2021-03-10 21:26:30.770151"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:26:30.771693"], ["updated_at", "2021-03-10 21:26:30.771693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow name to be set to nil. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.380504"], ["updated_at", "2021-03-10 21:28:49.380504"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.386827"], ["updated_at", "2021-03-10 21:28:49.386827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.389704"], ["updated_at", "2021-03-10 21:28:49.389704"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.417791"], ["updated_at", "2021-03-10 21:28:49.417791"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.420963"], ["updated_at", "2021-03-10 21:28:49.420963"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.424667"], ["updated_at", "2021-03-10 21:28:49.424667"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:28:49.426961"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.458568"], ["updated_at", "2021-03-10 21:28:49.458568"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.462178"], ["updated_at", "2021-03-10 21:28:49.462178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.464513"], ["updated_at", "2021-03-10 21:28:49.464513"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.3ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:28:49.467092"], ["id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.493083"], ["updated_at", "2021-03-10 21:28:49.493083"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.498348"], ["updated_at", "2021-03-10 21:28:49.498348"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.501343"], ["updated_at", "2021-03-10 21:28:49.501343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.5ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:28:49.528010"], ["updated_at", "2021-03-10 21:28:49.528010"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:28:49.669461"], ["updated_at", "2021-03-10 21:28:49.669461"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.692725"], ["updated_at", "2021-03-10 21:28:49.692725"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.695735"], ["updated_at", "2021-03-10 21:28:49.695735"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.698516"], ["updated_at", "2021-03-10 21:28:49.698516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:28:49.781179"], ["updated_at", "2021-03-10 21:28:49.781179"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.788653"], ["updated_at", "2021-03-10 21:28:49.788653"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.798764"], ["updated_at", "2021-03-10 21:28:49.798764"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.805198"], ["updated_at", "2021-03-10 21:28:49.805198"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:49.836015"], ["updated_at", "2021-03-10 21:28:49.836015"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:49.838640"], ["updated_at", "2021-03-10 21:28:49.838640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:49.840379"], ["updated_at", "2021-03-10 21:28:49.840379"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.853242"], ["updated_at", "2021-03-10 21:28:49.853242"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.856078"], ["updated_at", "2021-03-10 21:28:49.856078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.858545"], ["updated_at", "2021-03-10 21:28:49.858545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:49.860656"], ["updated_at", "2021-03-10 21:28:49.860656"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:49.862841"], ["updated_at", "2021-03-10 21:28:49.862841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:49.864845"], ["updated_at", "2021-03-10 21:28:49.864845"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:28:49.867230"], ["id", 3]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.882208"], ["updated_at", "2021-03-10 21:28:49.882208"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.885760"], ["updated_at", "2021-03-10 21:28:49.885760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.887978"], ["updated_at", "2021-03-10 21:28:49.887978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:49.890106"], ["updated_at", "2021-03-10 21:28:49.890106"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:49.894795"], ["updated_at", "2021-03-10 21:28:49.894795"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:49.896639"], ["updated_at", "2021-03-10 21:28:49.896639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:28:49.897967"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.940895"], ["updated_at", "2021-03-10 21:28:49.940895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.945842"], ["updated_at", "2021-03-10 21:28:49.945842"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.949331"], ["updated_at", "2021-03-10 21:28:49.949331"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:49.953405"], ["updated_at", "2021-03-10 21:28:49.953405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:49.955190"], ["updated_at", "2021-03-10 21:28:49.955190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:49.956688"], ["updated_at", "2021-03-10 21:28:49.956688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:49.972368"], ["updated_at", "2021-03-10 21:28:49.972368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:49.976330"], ["updated_at", "2021-03-10 21:28:49.976330"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:49.980378"], ["updated_at", "2021-03-10 21:28:49.980378"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:49.983057"], ["updated_at", "2021-03-10 21:28:49.983057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:49.986786"], ["updated_at", "2021-03-10 21:28:49.986786"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:49.991695"], ["updated_at", "2021-03-10 21:28:49.991695"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:50.022244"], ["updated_at", "2021-03-10 21:28:50.022244"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:50.026513"], ["updated_at", "2021-03-10 21:28:50.026513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:50.028555"], ["updated_at", "2021-03-10 21:28:50.028555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:50.030763"], ["updated_at", "2021-03-10 21:28:50.030763"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:50.035523"], ["updated_at", "2021-03-10 21:28:50.035523"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:50.036997"], ["updated_at", "2021-03-10 21:28:50.036997"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:50.049367"], ["updated_at", "2021-03-10 21:28:50.049367"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:50.054887"], ["updated_at", "2021-03-10 21:28:50.054887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:50.056870"], ["updated_at", "2021-03-10 21:28:50.056870"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:50.058483"], ["updated_at", "2021-03-10 21:28:50.058483"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:50.061625"], ["updated_at", "2021-03-10 21:28:50.061625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:50.063495"], ["updated_at", "2021-03-10 21:28:50.063495"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:28:50.077750"], ["updated_at", "2021-03-10 21:28:50.077750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:28:50.080843"], ["updated_at", "2021-03-10 21:28:50.080843"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:28:50.083639"], ["updated_at", "2021-03-10 21:28:50.083639"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:28:50.086210"], ["updated_at", "2021-03-10 21:28:50.086210"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:28:50.088514"], ["updated_at", "2021-03-10 21:28:50.088514"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:28:50.091850"], ["updated_at", "2021-03-10 21:28:50.091850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.417109"], ["updated_at", "2021-03-10 21:29:10.417109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.422265"], ["updated_at", "2021-03-10 21:29:10.422265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.424082"], ["updated_at", "2021-03-10 21:29:10.424082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.425851"], ["updated_at", "2021-03-10 21:29:10.425851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.427526"], ["updated_at", "2021-03-10 21:29:10.427526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.429033"], ["updated_at", "2021-03-10 21:29:10.429033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.449990"], ["updated_at", "2021-03-10 21:29:10.449990"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.453092"], ["updated_at", "2021-03-10 21:29:10.453092"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.456056"], ["updated_at", "2021-03-10 21:29:10.456056"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.457791"], ["updated_at", "2021-03-10 21:29:10.457791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.459436"], ["updated_at", "2021-03-10 21:29:10.459436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.460927"], ["updated_at", "2021-03-10 21:29:10.460927"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.501490"], ["updated_at", "2021-03-10 21:29:10.501490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.508260"], ["updated_at", "2021-03-10 21:29:10.508260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.513381"], ["updated_at", "2021-03-10 21:29:10.513381"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.517206"], ["updated_at", "2021-03-10 21:29:10.517206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.520332"], ["updated_at", "2021-03-10 21:29:10.520332"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.525703"], ["updated_at", "2021-03-10 21:29:10.525703"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.5ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:29:10.529143"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.560836"], ["updated_at", "2021-03-10 21:29:10.560836"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.566362"], ["updated_at", "2021-03-10 21:29:10.566362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.571251"], ["updated_at", "2021-03-10 21:29:10.571251"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.573231"], ["updated_at", "2021-03-10 21:29:10.573231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.574921"], ["updated_at", "2021-03-10 21:29:10.574921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.576409"], ["updated_at", "2021-03-10 21:29:10.576409"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.600274"], ["updated_at", "2021-03-10 21:29:10.600274"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.606747"], ["updated_at", "2021-03-10 21:29:10.606747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.608914"], ["updated_at", "2021-03-10 21:29:10.608914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.610755"], ["updated_at", "2021-03-10 21:29:10.610755"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.613220"], ["updated_at", "2021-03-10 21:29:10.613220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.616223"], ["updated_at", "2021-03-10 21:29:10.616223"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:29:10.618808"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.634252"], ["updated_at", "2021-03-10 21:29:10.634252"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.637241"], ["updated_at", "2021-03-10 21:29:10.637241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.640163"], ["updated_at", "2021-03-10 21:29:10.640163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.642314"], ["updated_at", "2021-03-10 21:29:10.642314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.644443"], ["updated_at", "2021-03-10 21:29:10.644443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.647503"], ["updated_at", "2021-03-10 21:29:10.647503"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.663026"], ["updated_at", "2021-03-10 21:29:10.663026"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.667480"], ["updated_at", "2021-03-10 21:29:10.667480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.669637"], ["updated_at", "2021-03-10 21:29:10.669637"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.671723"], ["updated_at", "2021-03-10 21:29:10.671723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.674353"], ["updated_at", "2021-03-10 21:29:10.674353"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.677796"], ["updated_at", "2021-03-10 21:29:10.677796"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.694297"], ["updated_at", "2021-03-10 21:29:10.694297"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.697877"], ["updated_at", "2021-03-10 21:29:10.697877"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.700573"], ["updated_at", "2021-03-10 21:29:10.700573"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:29:10.704922"], ["updated_at", "2021-03-10 21:29:10.704922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:29:10.706827"], ["updated_at", "2021-03-10 21:29:10.706827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:29:10.708427"], ["updated_at", "2021-03-10 21:29:10.708427"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:29:10.720565"], ["updated_at", "2021-03-10 21:29:10.720565"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:29:10.728711"], ["updated_at", "2021-03-10 21:29:10.728711"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.765802"], ["updated_at", "2021-03-10 21:29:10.765802"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.772699"], ["updated_at", "2021-03-10 21:29:10.772699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.774710"], ["updated_at", "2021-03-10 21:29:10.774710"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:10.978886"], ["updated_at", "2021-03-10 21:29:10.978886"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:10.984922"], ["updated_at", "2021-03-10 21:29:10.984922"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:10.987264"], ["updated_at", "2021-03-10 21:29:10.987264"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:11.008168"], ["updated_at", "2021-03-10 21:29:11.008168"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:11.011917"], ["updated_at", "2021-03-10 21:29:11.011917"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:11.015537"], ["updated_at", "2021-03-10 21:29:11.015537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:29:11.017664"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:29:11.038339"], ["updated_at", "2021-03-10 21:29:11.038339"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:11.041839"], ["updated_at", "2021-03-10 21:29:11.041839"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:11.048561"], ["updated_at", "2021-03-10 21:29:11.048561"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:11.050441"], ["updated_at", "2021-03-10 21:29:11.050441"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.0ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow name to be set to nil. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:29:11.066750"], ["updated_at", "2021-03-10 21:29:11.066750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:29:11.069773"], ["updated_at", "2021-03-10 21:29:11.069773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:29:11.071780"], ["updated_at", "2021-03-10 21:29:11.071780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:29:11.074198"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:02.377133"], ["updated_at", "2021-03-10 21:31:02.377133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:02.388828"], ["updated_at", "2021-03-10 21:31:02.388828"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:02.397309"], ["updated_at", "2021-03-10 21:31:02.397309"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.9ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:02.420089"], ["updated_at", "2021-03-10 21:31:02.420089"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:02.425200"], ["updated_at", "2021-03-10 21:31:02.425200"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:02.437090"], ["updated_at", "2021-03-10 21:31:02.437090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:31:02.439091"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:02.511680"], ["updated_at", "2021-03-10 21:31:02.511680"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:02.517804"], ["updated_at", "2021-03-10 21:31:02.517804"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:02.523513"], ["updated_at", "2021-03-10 21:31:02.523513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:31:02.548492"], ["updated_at", "2021-03-10 21:31:02.548492"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:02.849559"], ["updated_at", "2021-03-10 21:31:02.849559"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:02.857856"], ["updated_at", "2021-03-10 21:31:02.857856"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:02.868775"], ["updated_at", "2021-03-10 21:31:02.868775"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (2.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:31:02.880181"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:31:02.914681"], ["updated_at", "2021-03-10 21:31:02.914681"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (13.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:02.948553"], ["updated_at", "2021-03-10 21:31:02.948553"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:02.967186"], ["updated_at", "2021-03-10 21:31:02.967186"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:02.971621"], ["updated_at", "2021-03-10 21:31:02.971621"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (14.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.045392"], ["updated_at", "2021-03-10 21:31:03.045392"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.056672"], ["updated_at", "2021-03-10 21:31:03.056672"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.063313"], ["updated_at", "2021-03-10 21:31:03.063313"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.5ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.102262"], ["updated_at", "2021-03-10 21:31:03.102262"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (2.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.128390"], ["updated_at", "2021-03-10 21:31:03.128390"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.134206"], ["updated_at", "2021-03-10 21:31:03.134206"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.4ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.184202"], ["updated_at", "2021-03-10 21:31:03.184202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.190437"], ["updated_at", "2021-03-10 21:31:03.190437"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.195210"], ["updated_at", "2021-03-10 21:31:03.195210"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.198572"], ["updated_at", "2021-03-10 21:31:03.198572"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.205958"], ["updated_at", "2021-03-10 21:31:03.205958"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.207671"], ["updated_at", "2021-03-10 21:31:03.207671"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.7ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.221063"], ["updated_at", "2021-03-10 21:31:03.221063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.224428"], ["updated_at", "2021-03-10 21:31:03.224428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.228094"], ["updated_at", "2021-03-10 21:31:03.228094"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.230974"], ["updated_at", "2021-03-10 21:31:03.230974"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.233462"], ["updated_at", "2021-03-10 21:31:03.233462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.235201"], ["updated_at", "2021-03-10 21:31:03.235201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.246013"], ["updated_at", "2021-03-10 21:31:03.246013"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.252430"], ["updated_at", "2021-03-10 21:31:03.252430"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.255078"], ["updated_at", "2021-03-10 21:31:03.255078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.257487"], ["updated_at", "2021-03-10 21:31:03.257487"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.260952"], ["updated_at", "2021-03-10 21:31:03.260952"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.262543"], ["updated_at", "2021-03-10 21:31:03.262543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.280868"], ["updated_at", "2021-03-10 21:31:03.280868"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.283931"], ["updated_at", "2021-03-10 21:31:03.283931"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.287103"], ["updated_at", "2021-03-10 21:31:03.287103"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.290124"], ["updated_at", "2021-03-10 21:31:03.290124"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.293513"], ["updated_at", "2021-03-10 21:31:03.293513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.296003"], ["updated_at", "2021-03-10 21:31:03.296003"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.5ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:31:03.356591"], ["updated_at", "2021-03-10 21:31:03.356591"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.364610"], ["updated_at", "2021-03-10 21:31:03.364610"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.371054"], ["updated_at", "2021-03-10 21:31:03.371054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.373083"], ["updated_at", "2021-03-10 21:31:03.373083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (1.0ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.374822"], ["updated_at", "2021-03-10 21:31:03.374822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.380440"], ["updated_at", "2021-03-10 21:31:03.380440"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.383697"], ["updated_at", "2021-03-10 21:31:03.383697"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:31:03.388035"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.401192"], ["updated_at", "2021-03-10 21:31:03.401192"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.404529"], ["updated_at", "2021-03-10 21:31:03.404529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.408781"], ["updated_at", "2021-03-10 21:31:03.408781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.411969"], ["updated_at", "2021-03-10 21:31:03.411969"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.416098"], ["updated_at", "2021-03-10 21:31:03.416098"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.421130"], ["updated_at", "2021-03-10 21:31:03.421130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:31:03.422927"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.5ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:31:03.447835"], ["updated_at", "2021-03-10 21:31:03.447835"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:31:03.453172"], ["updated_at", "2021-03-10 21:31:03.453172"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:31:03.459192"], ["updated_at", "2021-03-10 21:31:03.459192"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:31:03.462493"], ["updated_at", "2021-03-10 21:31:03.462493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:31:03.464736"], ["updated_at", "2021-03-10 21:31:03.464736"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:31:03.469733"], ["updated_at", "2021-03-10 21:31:03.469733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.550796"], ["updated_at", "2021-03-10 21:35:54.550796"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.558899"], ["updated_at", "2021-03-10 21:35:54.558899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.562552"], ["updated_at", "2021-03-10 21:35:54.562552"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.566060"], ["updated_at", "2021-03-10 21:35:54.566060"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.569486"], ["updated_at", "2021-03-10 21:35:54.569486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.571804"], ["updated_at", "2021-03-10 21:35:54.571804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.592863"], ["updated_at", "2021-03-10 21:35:54.592863"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.598484"], ["updated_at", "2021-03-10 21:35:54.598484"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.604708"], ["updated_at", "2021-03-10 21:35:54.604708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.606599"], ["updated_at", "2021-03-10 21:35:54.606599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.608590"], ["updated_at", "2021-03-10 21:35:54.608590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.611040"], ["updated_at", "2021-03-10 21:35:54.611040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.630612"], ["updated_at", "2021-03-10 21:35:54.630612"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.633761"], ["updated_at", "2021-03-10 21:35:54.633761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.636752"], ["updated_at", "2021-03-10 21:35:54.636752"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.639127"], ["updated_at", "2021-03-10 21:35:54.639127"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.641584"], ["updated_at", "2021-03-10 21:35:54.641584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.643087"], ["updated_at", "2021-03-10 21:35:54.643087"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.693580"], ["updated_at", "2021-03-10 21:35:54.693580"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.698767"], ["updated_at", "2021-03-10 21:35:54.698767"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.702090"], ["updated_at", "2021-03-10 21:35:54.702090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.704204"], ["updated_at", "2021-03-10 21:35:54.704204"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.707063"], ["updated_at", "2021-03-10 21:35:54.707063"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.710405"], ["updated_at", "2021-03-10 21:35:54.710405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.722784"], ["updated_at", "2021-03-10 21:35:54.722784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.725741"], ["updated_at", "2021-03-10 21:35:54.725741"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.728461"], ["updated_at", "2021-03-10 21:35:54.728461"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.730228"], ["updated_at", "2021-03-10 21:35:54.730228"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.731896"], ["updated_at", "2021-03-10 21:35:54.731896"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.733325"], ["updated_at", "2021-03-10 21:35:54.733325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.746394"], ["updated_at", "2021-03-10 21:35:54.746394"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.749408"], ["updated_at", "2021-03-10 21:35:54.749408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.753236"], ["updated_at", "2021-03-10 21:35:54.753236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.754841"], ["updated_at", "2021-03-10 21:35:54.754841"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.756695"], ["updated_at", "2021-03-10 21:35:54.756695"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.758416"], ["updated_at", "2021-03-10 21:35:54.758416"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (33.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.800539"], ["updated_at", "2021-03-10 21:35:54.800539"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.803391"], ["updated_at", "2021-03-10 21:35:54.803391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.806065"], ["updated_at", "2021-03-10 21:35:54.806065"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.808154"], ["updated_at", "2021-03-10 21:35:54.808154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.810151"], ["updated_at", "2021-03-10 21:35:54.810151"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.812650"], ["updated_at", "2021-03-10 21:35:54.812650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.2ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:35:54.816524"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:35:54.850282"], ["updated_at", "2021-03-10 21:35:54.850282"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.854517"], ["updated_at", "2021-03-10 21:35:54.854517"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.860980"], ["updated_at", "2021-03-10 21:35:54.860980"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.863543"], ["updated_at", "2021-03-10 21:35:54.863543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:35:54.865379"], ["updated_at", "2021-03-10 21:35:54.865379"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:35:54.870123"], ["updated_at", "2021-03-10 21:35:54.870123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:35:54.871848"], ["updated_at", "2021-03-10 21:35:54.871848"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:35:54.873849"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (1.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.6ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.889432"], ["updated_at", "2021-03-10 21:35:54.889432"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.892579"], ["updated_at", "2021-03-10 21:35:54.892579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.895554"], ["updated_at", "2021-03-10 21:35:54.895554"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:35:54.897608"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:54.937819"], ["updated_at", "2021-03-10 21:35:54.937819"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:54.944920"], ["updated_at", "2021-03-10 21:35:54.944920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:54.947244"], ["updated_at", "2021-03-10 21:35:54.947244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:35:54.949181"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:35:55.106631"], ["updated_at", "2021-03-10 21:35:55.106631"]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:55.110116"], ["updated_at", "2021-03-10 21:35:55.110116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:55.122717"], ["updated_at", "2021-03-10 21:35:55.122717"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:55.126266"], ["updated_at", "2021-03-10 21:35:55.126266"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:35:55.172849"], ["updated_at", "2021-03-10 21:35:55.172849"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:55.224161"], ["updated_at", "2021-03-10 21:35:55.224161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:55.230742"], ["updated_at", "2021-03-10 21:35:55.230742"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:55.232916"], ["updated_at", "2021-03-10 21:35:55.232916"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:35:55.247548"], ["updated_at", "2021-03-10 21:35:55.247548"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:35:55.251771"], ["updated_at", "2021-03-10 21:35:55.251771"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:35:55.255708"], ["updated_at", "2021-03-10 21:35:55.255708"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (4.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.608374"], ["updated_at", "2021-03-10 21:40:01.608374"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.614668"], ["updated_at", "2021-03-10 21:40:01.614668"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.616582"], ["updated_at", "2021-03-10 21:40:01.616582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.618533"], ["updated_at", "2021-03-10 21:40:01.618533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.620240"], ["updated_at", "2021-03-10 21:40:01.620240"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.621849"], ["updated_at", "2021-03-10 21:40:01.621849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:40:01.623229"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.659782"], ["updated_at", "2021-03-10 21:40:01.659782"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.665017"], ["updated_at", "2021-03-10 21:40:01.665017"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.668928"], ["updated_at", "2021-03-10 21:40:01.668928"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.672170"], ["updated_at", "2021-03-10 21:40:01.672170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.674177"], ["updated_at", "2021-03-10 21:40:01.674177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.675850"], ["updated_at", "2021-03-10 21:40:01.675850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:40:01.677325"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.690827"], ["updated_at", "2021-03-10 21:40:01.690827"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.695063"], ["updated_at", "2021-03-10 21:40:01.695063"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.699387"], ["updated_at", "2021-03-10 21:40:01.699387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.702669"], ["updated_at", "2021-03-10 21:40:01.702669"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.706857"], ["updated_at", "2021-03-10 21:40:01.706857"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.709078"], ["updated_at", "2021-03-10 21:40:01.709078"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.3ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.724744"], ["updated_at", "2021-03-10 21:40:01.724744"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.728300"], ["updated_at", "2021-03-10 21:40:01.728300"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.732531"], ["updated_at", "2021-03-10 21:40:01.732531"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.734956"], ["updated_at", "2021-03-10 21:40:01.734956"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.737257"], ["updated_at", "2021-03-10 21:40:01.737257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.739372"], ["updated_at", "2021-03-10 21:40:01.739372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.773750"], ["updated_at", "2021-03-10 21:40:01.773750"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.776806"], ["updated_at", "2021-03-10 21:40:01.776806"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.780779"], ["updated_at", "2021-03-10 21:40:01.780779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.782790"], ["updated_at", "2021-03-10 21:40:01.782790"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.784915"], ["updated_at", "2021-03-10 21:40:01.784915"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.787974"], ["updated_at", "2021-03-10 21:40:01.787974"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (10.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (3.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.807424"], ["updated_at", "2021-03-10 21:40:01.807424"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.817362"], ["updated_at", "2021-03-10 21:40:01.817362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.822650"], ["updated_at", "2021-03-10 21:40:01.822650"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.826610"], ["updated_at", "2021-03-10 21:40:01.826610"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.831111"], ["updated_at", "2021-03-10 21:40:01.831111"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.835202"], ["updated_at", "2021-03-10 21:40:01.835202"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.5ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (0.8ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:40:01.869865"], ["updated_at", "2021-03-10 21:40:01.869865"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.890429"], ["updated_at", "2021-03-10 21:40:01.890429"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.900745"], ["updated_at", "2021-03-10 21:40:01.900745"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.907262"], ["updated_at", "2021-03-10 21:40:01.907262"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:01.919039"], ["updated_at", "2021-03-10 21:40:01.919039"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.9ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:01.923782"], ["updated_at", "2021-03-10 21:40:01.923782"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:01.933988"], ["updated_at", "2021-03-10 21:40:01.933988"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (30.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (4.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:01.978693"], ["updated_at", "2021-03-10 21:40:01.978693"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:01.987888"], ["updated_at", "2021-03-10 21:40:01.987888"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:01.996846"], ["updated_at", "2021-03-10 21:40:01.996846"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (1.8ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:40:02.003971"], ["updated_at", "2021-03-10 21:40:02.003971"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:40:02.010097"], ["updated_at", "2021-03-10 21:40:02.010097"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:40:02.016343"], ["updated_at", "2021-03-10 21:40:02.016343"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.2ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (16.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (2.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (8.6ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:02.114609"], ["updated_at", "2021-03-10 21:40:02.114609"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:02.128844"], ["updated_at", "2021-03-10 21:40:02.128844"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:02.134065"], ["updated_at", "2021-03-10 21:40:02.134065"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:40:02.140568"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.8ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:02.156148"], ["updated_at", "2021-03-10 21:40:02.156148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:02.166301"], ["updated_at", "2021-03-10 21:40:02.166301"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:02.171120"], ["updated_at", "2021-03-10 21:40:02.171120"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (24.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:02.461898"], ["updated_at", "2021-03-10 21:40:02.461898"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:02.467905"], ["updated_at", "2021-03-10 21:40:02.467905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:02.471025"], ["updated_at", "2021-03-10 21:40:02.471025"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.2ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:40:02.474102"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.6ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.4ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:40:02.549262"], ["updated_at", "2021-03-10 21:40:02.549262"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.4ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:02.558525"], ["updated_at", "2021-03-10 21:40:02.558525"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:02.565655"], ["updated_at", "2021-03-10 21:40:02.565655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:02.570595"], ["updated_at", "2021-03-10 21:40:02.570595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:40:02.601314"], ["updated_at", "2021-03-10 21:40:02.601314"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:40:02.617221"], ["updated_at", "2021-03-10 21:40:02.617221"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:40:02.623368"], ["updated_at", "2021-03-10 21:40:02.623368"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:40:02.627307"], ["updated_at", "2021-03-10 21:40:02.627307"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "organizations"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "organizations" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "street_1" varchar, "street_2" varchar, "city" varchar, "state" varchar, "zip" varchar, "short_name" varchar, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "student_teams"[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "student_teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "student_id" integer, "team_id" integer, "start_date" date, "end_date" date, "position" integer, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_student_id" ON "student_teams" ("student_id")[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE  INDEX "index_student_teams_on_team_id" ON "student_teams" ("team_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "students"[0m
  [1m[35m (10.6ms)[0m  [1m[35mCREATE TABLE "students" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "first_name" varchar, "last_name" varchar, "grade" integer, "organization_id" integer, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (9.2ms)[0m  [1m[35mCREATE  INDEX "index_students_on_organization_id" ON "students" ("organization_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "teams"[0m
  [1m[35m (11.8ms)[0m  [1m[35mCREATE TABLE "teams" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "organization_id" integer, "division" varchar, "active" boolean DEFAULT 1, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (10.7ms)[0m  [1m[35mCREATE  INDEX "index_teams_on_organization_id" ON "teams" ("organization_id")[0m
  [1m[35m (9.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (10.9ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20210222163246)[0m
  [1m[35m (10.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20210220104945),
(20210222161946),
(20210222162516);

[0m
  [1m[35m (10.8ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (1.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2021-03-10 21:52:13.187110"], ["updated_at", "2021-03-10 21:52:13.187110"]]
  [1m[35m (8.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
TeamTest: test_: Team should ensure inclusion of division in ["senior", "junior"]. 
-----------------------------------------------------------------------------------
  [1m[36mTeam Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------
TeamTest: test_: Team should have many students through student_teams. 
-----------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are three teams in alphabetical order. 
-------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.5ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.482997"], ["updated_at", "2021-03-10 21:52:13.482997"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.490541"], ["updated_at", "2021-03-10 21:52:13.490541"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.492569"], ["updated_at", "2021-03-10 21:52:13.492569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.494383"], ["updated_at", "2021-03-10 21:52:13.494383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.496096"], ["updated_at", "2021-03-10 21:52:13.496096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.497581"], ["updated_at", "2021-03-10 21:52:13.497581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" ORDER BY name[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------
TeamTest: test_: Team should have many student_teams. 
------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------
TeamTest: test_: Team should require organization_id to be set. 
----------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to "division". 
-------------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_active method works. 
------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.518256"], ["updated_at", "2021-03-10 21:52:13.518256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.521324"], ["updated_at", "2021-03-10 21:52:13.521324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.523944"], ["updated_at", "2021-03-10 21:52:13.523944"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.526545"], ["updated_at", "2021-03-10 21:52:13.526545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.530009"], ["updated_at", "2021-03-10 21:52:13.530009"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.533093"], ["updated_at", "2021-03-10 21:52:13.533093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "QU 1"], ["id", 3], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:52:13.534547"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to 10. 
-----------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should require name to be set. 
-----------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should have a scope for_organization. 
------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.557288"], ["updated_at", "2021-03-10 21:52:13.557288"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.560645"], ["updated_at", "2021-03-10 21:52:13.560645"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.562944"], ["updated_at", "2021-03-10 21:52:13.562944"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.567333"], ["updated_at", "2021-03-10 21:52:13.567333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.569455"], ["updated_at", "2021-03-10 21:52:13.569455"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.571323"], ["updated_at", "2021-03-10 21:52:13.571323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 1)[0m
  [1m[36mTeam Load (0.2ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 2)[0m
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE (organization_id = 3)[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that make_inactive method works. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.586556"], ["updated_at", "2021-03-10 21:52:13.586556"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.592557"], ["updated_at", "2021-03-10 21:52:13.592557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.594803"], ["updated_at", "2021-03-10 21:52:13.594803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.596908"], ["updated_at", "2021-03-10 21:52:13.596908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.601157"], ["updated_at", "2021-03-10 21:52:13.601157"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.602911"], ["updated_at", "2021-03-10 21:52:13.602911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? AND "teams"."id" != ? LIMIT ?[0m  [["name", "CMU 1"], ["id", 1], ["LIMIT", 1]]
  [1m[36mTeam Update (0.1ms)[0m  [1m[33mUPDATE "teams" SET "active" = ?, "updated_at" = ? WHERE "teams"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:52:13.604460"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one inactive team. 
--------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.615801"], ["updated_at", "2021-03-10 21:52:13.615801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.618889"], ["updated_at", "2021-03-10 21:52:13.618889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.621908"], ["updated_at", "2021-03-10 21:52:13.621908"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.624343"], ["updated_at", "2021-03-10 21:52:13.624343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.626211"], ["updated_at", "2021-03-10 21:52:13.626211"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.627855"], ["updated_at", "2021-03-10 21:52:13.627855"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 0]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two active teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.638550"], ["updated_at", "2021-03-10 21:52:13.638550"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.642269"], ["updated_at", "2021-03-10 21:52:13.642269"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.647887"], ["updated_at", "2021-03-10 21:52:13.647887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.649921"], ["updated_at", "2021-03-10 21:52:13.649921"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.651674"], ["updated_at", "2021-03-10 21:52:13.651674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.653229"], ["updated_at", "2021-03-10 21:52:13.653229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Load (0.0ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."active" = ?[0m  [["active", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.3ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------
TeamTest: test_: Team should not allow division to be set to nil. 
------------------------------------------------------------------
  [1m[36mTeam Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there is one junior team. 
------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.669524"], ["updated_at", "2021-03-10 21:52:13.669524"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.674850"], ["updated_at", "2021-03-10 21:52:13.674850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.677508"], ["updated_at", "2021-03-10 21:52:13.677508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.4ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.680390"], ["updated_at", "2021-03-10 21:52:13.680390"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.683833"], ["updated_at", "2021-03-10 21:52:13.683833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.1ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.685516"], ["updated_at", "2021-03-10 21:52:13.685516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Load (0.1ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "junior"]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.0ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------
TeamTest: test_: Team should allow division to be set to "senior". 
-------------------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------
TeamTest: test_: Team should belong to organization. 
-----------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------
TeamTest: test_: Team should require division to be set. 
---------------------------------------------------------
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
TeamTest: test_: Team should require case sensitive unique value for name. 
---------------------------------------------------------------------------
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT  "teams".* FROM "teams" ORDER BY "teams"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Create (2.3ms)[0m  [1m[32mINSERT INTO "teams" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:52:13.711382"], ["updated_at", "2021-03-10 21:52:13.711382"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
  [1m[35m (6.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
TeamTest: test_: Creating teams context should shows that there are two senior teams. 
--------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.727680"], ["updated_at", "2021-03-10 21:52:13.727680"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.733295"], ["updated_at", "2021-03-10 21:52:13.733295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.735410"], ["updated_at", "2021-03-10 21:52:13.735410"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "CMU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "CMU 1"], ["organization_id", 1], ["division", "senior"], ["created_at", "2021-03-10 21:52:13.737356"], ["updated_at", "2021-03-10 21:52:13.737356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "AST 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "AST 1"], ["organization_id", 2], ["division", "junior"], ["created_at", "2021-03-10 21:52:13.740059"], ["updated_at", "2021-03-10 21:52:13.740059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTeam Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "teams" WHERE "teams"."name" = ? LIMIT ?[0m  [["name", "QU 1"], ["LIMIT", 1]]
  [1m[36mTeam Create (0.2ms)[0m  [1m[32mINSERT INTO "teams" ("name", "organization_id", "division", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "QU 1"], ["organization_id", 3], ["division", "senior"], ["active", 0], ["created_at", "2021-03-10 21:52:13.743310"], ["updated_at", "2021-03-10 21:52:13.743310"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Load (0.3ms)[0m  [1m[34mSELECT "teams".* FROM "teams" WHERE "teams"."division" = ?[0m  [["division", "senior"]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 1]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 2]]
  [1m[36mTeam Destroy (0.1ms)[0m  [1m[31mDELETE FROM "teams" WHERE "teams"."id" = ?[0m  [["id", 3]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (8.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should ensure inclusion of state in ["AL", "AK", "AZ", "AR", "CA", "CO", "CT", "DE", "FL", "GA", "HI", "ID", "IL", "IN", "IA", "KS", "KY", "LA", "ME", "MD", "MA", "MI", "MN", "MS", "MO", "MT", "NE", "NV", "NH", "NJ", "NM", "NY", "NC", "ND", "OH", "OK", "OR", "PA", "RI", "SC", "SD", "TN", "TX", "UT", "VT", "VA", "WA", "WV", "WI", "WY"]. 
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (1.6ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "AR". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------
OrganizationTest: test_: Organization should have many students. 
-----------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to 10. 
------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "PA". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow state to be set to "state". 
-----------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15217". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------
OrganizationTest: test_: Organization should require name to be set. 
---------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_active method works. 
----------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (2.7ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.924199"], ["updated_at", "2021-03-10 21:52:13.924199"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.931061"], ["updated_at", "2021-03-10 21:52:13.931061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.932914"], ["updated_at", "2021-03-10 21:52:13.932914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Queens University"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "QU"], ["id", 3], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 1], ["updated_at", "2021-03-10 21:52:13.934590"], ["id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (5.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "15090". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------
OrganizationTest: test_: Organization should require street_1 to be set. 
-------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are two active organizations. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:13.958260"], ["updated_at", "2021-03-10 21:52:13.958260"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:13.963011"], ["updated_at", "2021-03-10 21:52:13.963011"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:13.966838"], ["updated_at", "2021-03-10 21:52:13.966838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Load (0.1ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.0ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (6.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15213-9843". 
--------------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "fred". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require case sensitive unique value for name. 
-------------------------------------------------------------------------------------------
  [1m[36mOrganization Load (0.3ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (2.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "a"], ["created_at", "2021-03-10 21:52:13.993835"], ["updated_at", "2021-03-10 21:52:13.993835"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "a"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (9.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------
OrganizationTest: test_: Organization should require zip to be set. 
--------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to nil. 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that make_inactive method works. 
------------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:14.027231"], ["updated_at", "2021-03-10 21:52:14.027231"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:14.034896"], ["updated_at", "2021-03-10 21:52:14.034896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:14.037987"], ["updated_at", "2021-03-10 21:52:14.037987"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? AND "organizations"."id" != ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) AND "organizations"."id" != ? LIMIT ?[0m  [["short_name", "CMU"], ["id", 1], ["LIMIT", 1]]
  [1m[36mOrganization Update (0.1ms)[0m  [1m[33mUPDATE "organizations" SET "active" = ?, "updated_at" = ? WHERE "organizations"."id" = ?[0m  [["active", 0], ["updated_at", "2021-03-10 21:52:14.042285"], ["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (9.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow zip to be set to "03431". 
-----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "15d32". 
---------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
-------------------------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there are three organizations in alphabetical order. 
-------------------------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:14.069646"], ["updated_at", "2021-03-10 21:52:14.069646"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.9ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:14.074215"], ["updated_at", "2021-03-10 21:52:14.074215"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.1ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:14.081959"], ["updated_at", "2021-03-10 21:52:14.081959"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" ORDER BY name[0m
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.1ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (7.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------
OrganizationTest: test_: Organization should allow state to be set to "OH". 
----------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
----------------------------------------------------------------------------------
OrganizationTest: test_: Organization should require unique value for short_name. 
----------------------------------------------------------------------------------
  [1m[36mOrganization Load (1.4ms)[0m  [1m[34mSELECT  "organizations".* FROM "organizations" ORDER BY "organizations"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Create (1.1ms)[0m  [1m[32mINSERT INTO "organizations" ("short_name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["short_name", "a"], ["created_at", "2021-03-10 21:52:14.108161"], ["updated_at", "2021-03-10 21:52:14.108161"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "A"], ["LIMIT", 1]]
  [1m[35m (8.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------
OrganizationTest: test_: Organization should not allow zip to be set to "3431". 
--------------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
---------------------------------------------------------------------------
OrganizationTest: test_: Organization should require short_name to be set. 
---------------------------------------------------------------------------
  [1m[36mOrganization Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."short_name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------------------------------------------------------
OrganizationTest: test_: Creating organizations context should shows that there is one inactive organization. 
--------------------------------------------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Carnegie Mellon University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "CMU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (1.0ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Carnegie Mellon University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "CMU"], ["created_at", "2021-03-10 21:52:14.137970"], ["updated_at", "2021-03-10 21:52:14.137970"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Arizona State University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "ASU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.3ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Arizona State University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "AR"], ["zip", "15213"], ["short_name", "ASU"], ["created_at", "2021-03-10 21:52:14.143855"], ["updated_at", "2021-03-10 21:52:14.143855"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mOrganization Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE "organizations"."name" = ? LIMIT ?[0m  [["name", "Queens University"], ["LIMIT", 1]]
  [1m[36mOrganization Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "organizations" WHERE LOWER("organizations"."short_name") = LOWER(?) LIMIT ?[0m  [["short_name", "QU"], ["LIMIT", 1]]
  [1m[36mOrganization Create (0.2ms)[0m  [1m[32mINSERT INTO "organizations" ("name", "street_1", "street_2", "city", "state", "zip", "short_name", "active", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?)[0m  [["name", "Queens University"], ["street_1", "4800 Forbes Ave"], ["street_2", "Hamburg 3001"], ["city", "Pittsburgh"], ["state", "PA"], ["zip", "15213"], ["short_name", "QU"], ["active", 0], ["created_at", "2021-03-10 21:52:14.150849"], ["updated_at", "2021-03-10 21:52:14.150849"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Load (0.2ms)[0m  [1m[34mSELECT "organizations".* FROM "organizations" WHERE "organizations"."active" = ?[0m  [["active", 0]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 1]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 2]]
  [1m[36mOrganization Destroy (0.2ms)[0m  [1m[31mDELETE FROM "organizations" WHERE "organizations"."id" = ?[0m  [["id", 3]]
  [1m[35m (15.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
--------------------------------------------------------------
OrganizationTest: test_: Organization should have many teams. 
--------------------------------------------------------------
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
